(this.webpackJsonpvoku=this.webpackJsonpvoku||[]).push([[0],{112:function(e,t,r){},113:function(e,t,r){},114:function(e,t,r){"use strict";r.r(t);var n=r(2),c=r.n(n),a=r(49),l=r.n(a),o=(r(12),r(60),r(21)),s=r(6),i=r(19),d=r(55),u=r(4),f=r(11),b=r(5),m=r(35),x=r(50),j=r.n(x),h=r(29);r(115),r(116);h.a.initializeApp({apiKey:"AIzaSyC7Z7gv1LTtLw5ITSGESYrmHKJ2qWo1r0Q",authDomain:"videovokodb.firebaseapp.com",projectId:"videovokodb",storageBucket:"videovokodb.appspot.com",messagingSenderId:"979268679004",appId:"1:979268679004:web:67da5584975065c0f9fd99",measurementId:"G-0QDFJ7FG90"}),h.a.analytics();var g,p,v=h.a.firestore(),O=(h.a,function(){for(var e="",t=0;t<9;t++)e+=4===t?"-":"abcdefghijklmnopqrstuvwxyz"[Math.ceil(26*Math.random())-1];return e}),w=function(e){return/^[a-z]{4}-[a-z]{4}$/.test(e)},y=function(){var e=window.location.pathname.slice(1);return w(e)?e:void 0},C=r.p+"static/media/join.5e707cae.mp3",k=r.p+"static/media/message.f132cc09.mp3",L=r(1),N=Object(n.createContext)(),E=function(e){var t=e.children,r=Object(s.f)(),c=Object(m.a)(C,{volume:.5}),a=Object(b.a)(c,1)[0],l=Object(m.a)(k,{volume:.5}),o=Object(b.a)(l,1)[0],x=Object(n.useState)(!1),h=Object(b.a)(x,2),g=h[0],p=h[1],E=function(e){var t=window.location.pathname.slice(1);w(t)?r.replace(e):r.push(e)},M=Object(n.useState)("local"),S=Object(b.a)(M,2),V=S[0],z=S[1],Z=function(){z("local")},R=function(){z("guest")},A=Object(n.useState)("Esperantisto"),P=Object(b.a)(A,2),T=P[0],B=P[1],D=Object(n.useRef)("Esperantisto"),I=Object(n.useState)("Esperantisto"),J=Object(b.a)(I,2),U=J[0],W=J[1],Q=function(e){if(X()){var t="i="+JSON.stringify(e);ee(t)}},H=Object(n.useRef)(null),_=Object(n.useState)(!1),F=Object(b.a)(_,2),G=F[0],K=F[1],q=function(e){H.current=new j.a({initiator:e,trickle:!1,stream:Me.current,config:{iceServers:[{urls:"stun:stun1.l.google.com:19302"},{urls:"stun:stun2.l.google.com:19302"},{urls:"stun:global.stun.twilio.com:3478"}]}}),H.current.on("connect",(function(){K(!0),Q({name:D.current}),a(),"local"===V&&R(),ae(),xe(y()),console.log("CONNECTED!")})),H.current.on("close",(function(){console.warn("Connection closed"),K(!1),"guest"===V&&Z(),W("Esperantisto"),Ie(),"random"===je.current?ge():window.location.hash&&(H.current.destroy(),le(pe))})),H.current.on("error",(function(e){console.error("Connection error!"),console.log(e)})),H.current.on("signal",function(){var e=Object(f.a)(Object(u.a)().mark((function e(t){var r,n;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=JSON.stringify(t),!t.sdp){e.next=11;break}if(n=y(),!H.current.initiator){e.next=9;break}return e.next=6,fe(n,r,je.current);case 6:ce(me(n,he)),e.next=11;break;case 9:return e.next=11,be(n,r);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),H.current.on("stream",(function(e){Se.current=e,Be({video:!0,audio:!0})})),H.current.on("data",(function(e){var t=(new TextDecoder).decode(e),r=t[0],n=t.substr(2);switch(r){case"m":Ne("guest",n),o();break;case"s":var c=JSON.parse(n);Be(c);break;case"i":var a=JSON.parse(n);W(a.name)}}))},Y=function(){return!!H.current},X=function(){return!!Y()&&H.current.connected},$=function(e){H.current.signal(e)},ee=function(e){X()&&H.current.send(e)},te=function(){H.current.destroy(),H.current=null,ae()},re=v.collection("calls"),ne=Object(n.useRef)((function(){return 0})),ce=function(e){ne.current=e},ae=function(){ne.current(),ne.current=function(){return 0}},le=function(){var e=Object(f.a)(Object(u.a)().mark((function e(t){return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:v.collection("tests").doc("connection").get().then((function(e){t()})).catch((function(e){le(t)}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),oe=function(){var e=Object(f.a)(Object(u.a)().mark((function e(t){return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re.doc(t).get();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),se=function(){var e=Object(f.a)(Object(u.a)().mark((function e(t){var r;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oe(t);case 2:return r=e.sent,e.abrupt("return",r.data()?r.data().offer:void 0);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ie=function(){var e=Object(f.a)(Object(u.a)().mark((function e(){var t,r;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re.where("type","==","random").where("status","==","open").where("date",">",Date.now()-6e4);case 2:return t=e.sent,e.next=5,t.get().then((function(e){e.forEach((function(e){r||((r=e.data()).id=String(e.id))}))}));case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),de=function(){var e=Object(f.a)(Object(u.a)().mark((function e(t){return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re.doc(t).update({date:Date.now()});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ue=function e(t,r){setTimeout((function(){G||(de(t),e(t,r))}),r)},fe=function(){var e=Object(f.a)(Object(u.a)().mark((function e(t,r){var n,c=arguments;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>2&&void 0!==c[2]?c[2]:"direct",e.next=3,re.doc(t).set({type:n,status:"open",date:Date.now(),offer:r,answer:null});case 3:"random"===n&&ue(t,6e4);case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),be=function(){var e=Object(f.a)(Object(u.a)().mark((function e(t,r){return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re.doc(t).update({status:"signaling",answer:r});case 2:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),me=function(e,t){return re.doc(e).onSnapshot((function(e){var r=e.data();r.answer&&t(r.answer)}))},xe=function(e){re.doc(e).delete()},je=Object(n.useRef)(void 0),he=function(e){X()||$(JSON.parse(e))},ge=function(){Y()&&(te(),Ee(),ve())},pe=function(){var e=Object(f.a)(Object(u.a)().mark((function e(){var t;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,se(y());case 2:(t=e.sent)?(q(!1),$(JSON.parse(t))):q(!0);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ve=function(){var e=Object(f.a)(Object(u.a)().mark((function e(){var t;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ie();case 2:if(!(t=e.sent)){e.next=11;break}return je.current="random",E(t.id),e.next=8,De(q,!1);case 8:$(JSON.parse(t.offer)),e.next=12;break;case 11:Oe("random");case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Oe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:O();je.current||a(),je.current=e,E(t),De(q,!0)},we=function(){var e=Object(f.a)(Object(u.a)().mark((function e(t){return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return je.current="direct",E(t),e.next=4,De(q,!1);case 4:se(t).then((function(e){return he(e)}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ye=Object(n.useState)([]),Ce=Object(b.a)(ye,2),ke=Ce[0],Le=Ce[1],Ne=function(e,t){Le((function(r){return[].concat(Object(d.a)(r),[{user:e,text:t}])}))},Ee=function(){Le([])},Me=Object(n.useRef)(null),Se=Object(n.useRef)(null),Ve=Object(n.useState)({video:!1,audio:!1}),ze=Object(b.a)(Ve,2),Ze=ze[0],Re=ze[1],Ae=Object(n.useState)({video:!1,audio:!1}),Pe=Object(b.a)(Ae,2),Te=Pe[0],Be=Pe[1],De=function(){var e=Object(f.a)(Object(u.a)().mark((function e(t,n){return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",navigator.mediaDevices.getUserMedia({video:!0,audio:!0}).then((function(e){Me.current=e,Re({video:!0,audio:!0}),t(n)})).catch((function(e){alert("Cannot access user media"),console.log(e),r.replace("/")})));case 1:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),Ie=function(){Se.current=null,Be({video:!1,audio:!1})},Je=function(e){var t="s="+JSON.stringify(e);ee(t)};return Object(L.jsx)(N.Provider,{value:{focusedUserVideo:V,focusLocalUserVideo:Z,focusGuestUserVideo:R,splitUserVideos:function(){z("none")},callLinkModalVisibility:g,setCallLinkModalVisibility:p,myName:T,setMyName:function(e){B(e),D.current=e,Q({name:e})},guestName:U,setGuestName:W,peerConnection:G,isPeerSetted:Y,isPeerConnected:X,destroyPeer:te,callType:je,call:he,nextRandomCall:ge,finishCall:function(){je.current=null,te(),Ee(),r.replace("/")},reconnectCall:pe,randomCall:ve,startRoom:Oe,joinRoom:we,Messages:ke,sendMessage:function(e){ee("m="+e),Ne("me",e)},getLocalStream:De,stopLocalStream:function(){Me.current.getTracks().forEach((function(e){return e.stop()}))},localStream:Me,guestStream:Se,localMediaStatus:Ze,guestMediaStatus:Te,enableLocalVideo:function(){Me.current.getVideoTracks()[0].enabled=!0,Re((function(e){var t=Object(i.a)(Object(i.a)({},e),{},{video:!0});return Je(t),t}))},enableLocalAudio:function(){Me.current.getAudioTracks()[0].enabled=!0,Re((function(e){var t=Object(i.a)(Object(i.a)({},e),{},{audio:!0});return Je(t),t}))},disableLocalVideo:function(){Me.current.getVideoTracks()[0].enabled=!1,Re((function(e){var t=Object(i.a)(Object(i.a)({},e),{},{video:!1});return Je(t),t}))},disableLocalAudio:function(){Me.current.getAudioTracks()[0].enabled=!1,Re((function(e){var t=Object(i.a)(Object(i.a)({},e),{},{audio:!1});return Je(t),t}))}},children:t})},M=["title","titleId"];function S(){return S=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},S.apply(this,arguments)}function V(e,t){if(null==e)return{};var r,n,c=function(e,t){if(null==e)return{};var r,n,c={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(c[r]=e[r]);return c}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(c[r]=e[r])}return c}function z(e,t){var r=e.title,c=e.titleId,a=V(e,M);return n.createElement("svg",S({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",style:{isolation:"isolate"},viewBox:"868.32 317 617.539 654.322",width:"617.539pt",height:"654.322pt",ref:t,"aria-labelledby":c},a),r?n.createElement("title",{id:c},r):null,g||(g=n.createElement("defs",null,n.createElement("clipPath",{id:"_clipPath_4W2RjKYU07HES9edFtrMjVRvlz4gzEJx"},n.createElement("rect",{x:868.32,y:317,width:617.539,height:654.322})))),p||(p=n.createElement("g",{clipPath:"url(#_clipPath_4W2RjKYU07HES9edFtrMjVRvlz4gzEJx)"},n.createElement("g",null,n.createElement("path",{d:" M 1383.257 517.076 C 1354.019 495.219 1308.225 474.547 1257.617 460.363 C 1211.539 447.447 1166.596 441.212 1131.057 442.804 L 1130.872 438.671 C 1166.834 437.061 1212.244 443.348 1258.734 456.379 C 1309.813 470.696 1356.103 491.612 1385.734 513.763 L 1383.257 517.076 Z ",fill:"rgb(204,204,204)"}),n.createElement("path",{d:" M 1380.221 533.913 C 1380.247 553.278 1376.187 572.432 1368.307 590.121 Q 1367.32 592.343 1366.251 594.523 C 1338.026 652.333 1273.644 683.021 1210.962 668.541 C 1148.281 654.061 1103.882 598.245 1103.872 533.913 Q 1103.872 529.116 1104.199 524.393 Q 1104.354 521.992 1104.6 519.619 C 1112.21 446.483 1175.763 392.115 1249.196 395.924 C 1322.629 399.732 1380.218 460.381 1380.221 533.913 L 1380.221 533.913 Z ",fill:"rgb(0,141,73)"}),n.createElement("g",{opacity:.1},n.createElement("path",{d:" M 1368.307 590.121 Q 1367.32 592.343 1366.251 594.523 Q 1360.194 595.181 1353.501 595.479 C 1349.806 595.644 1346.004 595.727 1342.12 595.727 C 1308.189 595.727 1267.353 589.464 1225.635 577.773 C 1179.144 564.741 1137.084 546.514 1107.198 526.445 Q 1105.672 525.421 1104.199 524.393 Q 1104.354 521.992 1104.6 519.619 Q 1106.977 521.313 1109.503 523.012 C 1139.036 542.84 1180.675 560.873 1226.752 573.789 C 1268.105 585.381 1308.557 591.59 1342.099 591.59 Q 1347.852 591.59 1353.315 591.346 Q 1361.27 590.986 1368.307 590.121 Z ",fill:"rgb(0,0,0)"})),n.createElement("path",{d:" M 1342.12 592.418 C 1308.19 592.419 1267.352 586.155 1225.636 574.463 C 1179.146 561.432 1137.083 543.204 1107.198 523.136 C 1076.688 502.65 1062.382 482.463 1066.914 466.295 C 1071.445 450.127 1094.159 440.316 1130.872 438.671 L 1131.057 442.804 C 1113.913 443.572 1099.941 446.121 1089.529 450.378 C 1079.143 454.625 1072.874 460.356 1070.897 467.412 C 1068.919 474.467 1071.296 482.621 1077.962 491.648 C 1084.644 500.696 1095.256 510.135 1109.504 519.702 C 1139.034 539.531 1180.674 557.564 1226.753 570.479 C 1268.107 582.07 1308.555 588.281 1342.1 588.282 Q 1347.849 588.282 1353.313 588.038 C 1370.458 587.269 1384.43 584.721 1394.841 580.464 C 1405.227 576.217 1411.496 570.486 1413.474 563.43 C 1417.024 550.761 1406.293 534.299 1383.257 517.076 L 1385.734 513.763 C 1397.588 522.626 1406.364 531.362 1411.816 539.728 C 1417.661 548.697 1419.559 557.048 1417.457 564.547 C 1412.925 580.715 1390.211 590.525 1353.499 592.171 C 1349.804 592.336 1346.005 592.418 1342.12 592.418 Z ",fill:"rgb(204,204,204)"}),n.createElement("circle",{vectorEffect:"non-scaling-stroke",cx:1245.7020099999975,cy:369.234829999999,r:1.5833500000001095,fill:"rgb(242,242,242)"}),n.createElement("circle",{vectorEffect:"non-scaling-stroke",cx:1035.64502,cy:436.80077999999986,r:2.723899999999958,fill:"rgb(204,204,204)"}),n.createElement("circle",{vectorEffect:"non-scaling-stroke",cx:1029.83942,cy:543.4126199999997,r:5.38101000000006,fill:"rgb(204,204,204)"}),n.createElement("circle",{vectorEffect:"non-scaling-stroke",cx:1352.84163,cy:378.73489,r:3.586309999999912,fill:"rgb(204,204,204)"}),n.createElement("circle",{vectorEffect:"non-scaling-stroke",cx:1480.03694,cy:527.57918,r:5.822779999999966,fill:"rgb(204,204,204)"}),n.createElement("circle",{vectorEffect:"non-scaling-stroke",cx:1434.5056799999968,cy:434.57998999999916,r:2.498239999999896,fill:"rgb(204,204,204)"}),n.createElement("circle",{vectorEffect:"non-scaling-stroke",cx:1131.1734600000004,cy:402.4850600000002,r:3.897330000000011,fill:"rgb(204,204,204)"}),n.createElement("circle",{vectorEffect:"non-scaling-stroke",cx:1425.7618499999974,cy:515.7723899999994,r:2.498239999999896,fill:"rgb(204,204,204)"}),n.createElement("circle",{vectorEffect:"non-scaling-stroke",cx:1042.5061799999999,cy:619.4131600000001,r:3.109390000000076,fill:"rgb(204,204,204)"}),n.createElement("circle",{vectorEffect:"non-scaling-stroke",cx:1105.31216,cy:662.69122,r:3.3672899999999117,fill:"rgb(204,204,204)"}),n.createElement("path",{d:" M 1203.2 323.645 L 1196.555 323.645 L 1196.555 317 L 1192.99 317 L 1192.99 323.645 L 1186.342 323.645 L 1186.342 327.213 L 1192.99 327.213 L 1192.99 333.858 L 1196.555 333.858 L 1196.555 327.213 L 1203.2 327.213 L 1203.2 323.645 L 1203.2 323.645 Z ",fill:"rgb(204,204,204)"}),n.createElement("path",{d:" M 1357.342 683.201 L 1353.168 683.201 L 1353.168 679.029 L 1350.93 679.029 L 1350.93 683.201 L 1346.758 683.201 L 1346.758 685.44 L 1350.93 685.44 L 1350.93 689.612 L 1353.168 689.612 L 1353.168 685.44 L 1357.342 685.44 L 1357.342 683.201 L 1357.342 683.201 Z ",fill:"rgb(204,204,204)"}),n.createElement("path",{d:" M 1453.646 661.844 L 1450.527 661.844 L 1450.527 658.725 L 1448.852 658.725 L 1448.852 661.844 L 1445.733 661.844 L 1445.733 663.519 L 1448.852 663.519 L 1448.852 666.638 L 1450.527 666.638 L 1450.527 663.519 L 1453.646 663.519 L 1453.646 661.844 L 1453.646 661.844 Z ",fill:"rgb(204,204,204)"}),n.createElement("g",{opacity:.1},n.createElement("circle",{vectorEffect:"non-scaling-stroke",cx:1244.1187,cy:425.71736999999956,r:11.611190000000079,fill:"rgb(0,0,0)"})),n.createElement("g",{opacity:.1},n.createElement("circle",{vectorEffect:"non-scaling-stroke",cx:1154.92363,cy:510.6901699999999,r:11.611190000000079,fill:"rgb(0,0,0)"})),n.createElement("g",{opacity:.1},n.createElement("circle",{vectorEffect:"non-scaling-stroke",cx:1283.17451,cy:627.32987,r:11.611190000000079,fill:"rgb(0,0,0)"})),n.createElement("g",{opacity:.1},n.createElement("circle",{vectorEffect:"non-scaling-stroke",cx:1244.1187,cy:528.6347499999999,r:11.611190000000079,fill:"rgb(0,0,0)"})),n.createElement("g",{opacity:.1},n.createElement("circle",{vectorEffect:"non-scaling-stroke",cx:1160.72921,cy:592.49629,r:11.611190000000079,fill:"rgb(0,0,0)"})),n.createElement("g",{opacity:.1},n.createElement("circle",{vectorEffect:"non-scaling-stroke",cx:1306.3969,cy:466.3565399999995,r:11.611190000000079,fill:"rgb(0,0,0)"})),n.createElement("g",{opacity:.1},n.createElement("circle",{vectorEffect:"non-scaling-stroke",cx:1344.92492,cy:544.9959699999999,r:11.611190000000079,fill:"rgb(0,0,0)"})),n.createElement("circle",{vectorEffect:"non-scaling-stroke",cx:1244.1187,cy:477.96774000000016,r:15.305669999999964,fill:"rgb(255,255,255)"}),n.createElement("path",{d:" M 1244.119 455.801 C 1238.38 455.801 1232.876 458.081 1228.818 462.139 C 1224.76 466.197 1222.48 471.701 1222.48 477.44 C 1222.48 489.391 1244.119 528.635 1244.119 528.635 C 1244.119 528.635 1265.758 489.391 1265.758 477.44 C 1265.758 471.701 1263.478 466.197 1259.42 462.139 C 1255.362 458.081 1249.858 455.801 1244.119 455.801 L 1244.119 455.801 Z  M 1244.119 487.996 C 1238.58 487.996 1234.091 483.506 1234.091 477.968 C 1234.091 472.429 1238.58 467.94 1244.119 467.94 C 1249.657 467.94 1254.147 472.429 1254.147 477.968 C 1254.147 480.627 1253.09 483.178 1251.21 485.058 C 1249.329 486.939 1246.778 487.996 1244.119 487.996 L 1244.119 487.996 Z ",fill:"rgb(58,65,72)"}),n.createElement("circle",{vectorEffect:"non-scaling-stroke",cx:1160.7292099999997,cy:543.4126200000001,r:15.305650000000014,fill:"rgb(255,255,255)"}),n.createElement("path",{d:" M 1160.729 521.246 C 1154.99 521.246 1149.486 523.526 1145.428 527.584 C 1141.37 531.642 1139.09 537.146 1139.09 542.885 C 1139.09 554.836 1160.729 594.08 1160.729 594.08 C 1160.729 594.08 1182.368 554.836 1182.368 542.885 C 1182.368 537.146 1180.088 531.642 1176.03 527.584 C 1171.972 523.526 1166.468 521.246 1160.729 521.246 L 1160.729 521.246 Z  M 1160.729 553.44 C 1155.191 553.44 1150.701 548.951 1150.701 543.413 C 1150.701 537.874 1155.191 533.385 1160.729 533.385 C 1166.268 533.385 1170.757 537.874 1170.757 543.413 C 1170.757 546.072 1169.701 548.623 1167.82 550.503 C 1165.939 552.384 1163.389 553.44 1160.729 553.44 L 1160.729 553.44 Z ",fill:"rgb(58,65,72)"}),n.createElement("circle",{vectorEffect:"non-scaling-stroke",cx:1344.92492,cy:495.9123000000002,r:15.305669999999964,fill:"rgb(255,255,255)"}),n.createElement("path",{d:" M 1344.925 473.745 C 1339.186 473.745 1333.682 476.025 1329.624 480.083 C 1325.566 484.142 1323.286 489.646 1323.286 495.385 C 1323.286 507.335 1344.925 546.579 1344.925 546.579 C 1344.925 546.579 1366.564 507.335 1366.564 495.385 C 1366.564 489.646 1364.284 484.142 1360.226 480.083 C 1356.168 476.025 1350.664 473.745 1344.925 473.745 L 1344.925 473.745 Z  M 1344.925 505.94 C 1339.387 505.94 1334.897 501.45 1334.897 495.912 C 1334.897 490.374 1339.387 485.884 1344.925 485.884 C 1350.463 485.884 1354.953 490.374 1354.953 495.912 C 1354.953 498.572 1353.896 501.122 1352.016 503.003 C 1350.135 504.884 1347.585 505.94 1344.925 505.94 L 1344.925 505.94 Z ",fill:"rgb(58,65,72)"}),n.createElement("circle",{vectorEffect:"non-scaling-stroke",cx:1244.1187,cy:375.0503500000001,r:15.305669999999964,fill:"rgb(255,255,255)"}),n.createElement("path",{d:" M 1244.119 352.884 C 1232.168 352.884 1222.48 362.572 1222.48 374.523 C 1222.48 386.473 1244.119 425.717 1244.119 425.717 C 1244.119 425.717 1265.758 386.473 1265.758 374.523 C 1265.758 368.784 1263.478 363.28 1259.42 359.221 C 1255.362 355.163 1249.858 352.884 1244.119 352.884 L 1244.119 352.884 Z  M 1244.119 385.078 C 1238.58 385.078 1234.091 380.589 1234.091 375.05 C 1234.091 369.512 1238.58 365.022 1244.119 365.022 C 1249.657 365.022 1254.147 369.512 1254.147 375.05 C 1254.147 377.71 1253.09 380.261 1251.21 382.141 C 1249.329 384.022 1246.778 385.078 1244.119 385.078 L 1244.119 385.078 Z ",fill:"rgb(58,65,72)"}),n.createElement("circle",{vectorEffect:"non-scaling-stroke",cx:1283.1745100000003,cy:578.2462000000002,r:15.305669999999964,fill:"rgb(255,255,255)"}),n.createElement("path",{d:" M 1283.174 556.079 C 1277.435 556.079 1271.932 558.359 1267.873 562.417 C 1263.815 566.475 1261.536 571.979 1261.536 577.718 C 1261.536 589.669 1283.174 628.913 1283.174 628.913 C 1283.174 628.913 1304.814 589.669 1304.814 577.718 C 1304.814 571.979 1302.534 566.475 1298.476 562.417 C 1294.417 558.359 1288.914 556.079 1283.174 556.079 Z  M 1283.174 588.274 C 1277.636 588.274 1273.147 583.784 1273.147 578.246 C 1273.147 572.708 1277.636 568.218 1283.175 568.218 C 1288.713 568.218 1293.202 572.708 1293.202 578.246 C 1293.202 580.906 1292.146 583.456 1290.265 585.337 C 1288.385 587.218 1285.834 588.274 1283.174 588.274 L 1283.174 588.274 Z ",fill:"rgb(62,117,232)"}),n.createElement("circle",{vectorEffect:"non-scaling-stroke",cx:1154.9236300000005,cy:460.5509400000001,r:15.305669999999964,fill:"rgb(255,255,255)"}),n.createElement("path",{d:" M 1154.924 438.384 C 1149.185 438.384 1143.681 440.664 1139.623 444.722 C 1135.564 448.78 1133.285 454.284 1133.285 460.023 C 1133.285 471.974 1154.924 511.218 1154.924 511.218 C 1154.924 511.218 1176.563 471.974 1176.563 460.023 C 1176.563 454.284 1174.283 448.78 1170.225 444.722 C 1166.167 440.664 1160.663 438.384 1154.924 438.384 L 1154.924 438.384 Z  M 1154.924 470.579 C 1149.385 470.579 1144.896 466.089 1144.896 460.551 C 1144.896 455.013 1149.385 450.523 1154.924 450.523 C 1160.462 450.523 1164.952 455.013 1164.952 460.551 C 1164.952 463.21 1163.895 465.761 1162.014 467.642 C 1160.134 469.522 1157.583 470.579 1154.924 470.579 L 1154.924 470.579 Z ",fill:"rgb(62,117,232)"}),n.createElement("circle",{vectorEffect:"non-scaling-stroke",cx:1306.3969000000004,cy:417.80065000000013,r:15.305669999999964,fill:"rgb(255,255,255)"}),n.createElement("path",{d:" M 1306.397 395.634 C 1300.658 395.634 1295.154 397.914 1291.096 401.972 C 1287.038 406.03 1284.758 411.534 1284.758 417.273 C 1284.758 429.224 1306.397 468.468 1306.397 468.468 C 1306.397 468.468 1328.036 429.224 1328.036 417.273 C 1328.036 405.322 1318.348 395.634 1306.397 395.634 L 1306.397 395.634 Z  M 1306.397 427.829 C 1300.859 427.829 1296.369 423.339 1296.369 417.801 C 1296.369 412.262 1300.859 407.773 1306.397 407.773 C 1311.935 407.773 1316.425 412.262 1316.425 417.801 C 1316.425 423.339 1311.935 427.829 1306.397 427.829 L 1306.397 427.829 L 1306.397 427.829 Z ",fill:"rgb(62,117,232)"}),n.createElement("path",{d:" M 1040.862 959.715 L 1053.044 958.332 L 1053.509 910.688 L 1035.53 912.729 L 1040.862 959.715 L 1040.862 959.715 Z ",fill:"rgb(255,184,184)"}),n.createElement("path",{d:" M 1077.82 966.978 L 1039.535 971.322 L 1037.857 956.53 L 1061.35 953.865 C 1069.519 952.938 1076.893 958.809 1077.82 966.978 L 1077.82 966.978 L 1077.82 966.978 Z ",fill:"rgb(81,79,125)"}),n.createElement("path",{d:" M 915.582 958.954 L 927.842 958.953 L 933.674 911.665 L 915.58 911.666 L 915.582 958.954 L 915.582 958.954 Z ",fill:"rgb(255,184,184)"}),n.createElement("path",{d:" M 951.486 970.336 L 912.956 970.338 L 912.955 955.451 L 936.599 955.45 C 944.821 955.45 951.486 962.115 951.486 970.336 L 951.486 970.336 L 951.486 970.336 Z ",fill:"rgb(81,79,125)"}),n.createElement("path",{d:" M 1003.544 747.486 L 1010.544 770.255 L 1048.544 852.486 L 1058.544 930.486 L 1035.544 931.486 L 1021.544 859.486 L 973.544 807.486 L 931.544 943.486 L 912.544 941.486 C 912.544 941.486 928.544 765.486 950.544 747.486 C 950.544 747.486 986.544 730.486 1003.544 747.486 Z ",fill:"rgb(62,117,232)"}),n.createElement("circle",{vectorEffect:"non-scaling-stroke",cx:972.4923699999996,cy:624.6788999999997,r:24.56102999999996,fill:"rgb(255,184,184)"}),n.createElement("path",{d:" M 1006.044 751.986 C 1006.044 751.986 1009.044 649.986 967.044 656.986 C 967.044 656.986 942.544 762.486 942.544 762.486 C 942.544 762.486 951.544 780.486 973.544 760.486 C 995.544 740.486 1006.044 751.986 1006.044 751.986 Z ",fill:"rgb(204,204,204)"}),n.createElement("g",{opacity:.2},n.createElement("path",{d:" M 948.044 699.986 L 957.927 737.869 L 972.984 752.927 L 952.044 745.986 L 948.044 699.986 L 948.044 699.986 Z ",fill:"rgb(0,0,0)"})),n.createElement("path",{d:" M 1006.354 795.124 C 1003.556 794.11 1001.351 791.908 1000.333 789.112 C 999.314 786.316 999.587 783.212 1001.077 780.636 L 977.718 753.593 L 996.132 751.196 L 1015.491 777.244 C 1019.746 780.097 1021.195 785.681 1018.864 790.243 C 1016.533 794.804 1011.159 796.902 1006.354 795.124 L 1006.354 795.124 Z ",fill:"rgb(255,184,184)"}),n.createElement("path",{d:" M 977.914 677.762 L 980.544 729.486 L 1011.544 769.486 L 998.544 779.486 L 956.544 737.486 C 956.544 737.486 941.544 686.486 952.544 671.486 C 956.669 665.861 961.215 664.314 965.288 664.578 C 972.221 665.155 977.636 670.81 977.914 677.762 Z ",fill:"rgb(204,204,204)"}),n.createElement("path",{d:" M 969.571 650.486 C 969.809 650.273 969.933 649.96 969.904 649.642 C 969.876 649.324 969.7 649.038 969.428 648.87 C 964.985 646.118 962.4 641.16 962.687 635.942 C 962.973 630.725 966.087 626.08 970.804 623.832 C 978.025 620.389 987.81 623.068 993.148 616.452 C 995.345 613.587 996.186 609.909 995.451 606.375 C 994.299 600.126 989.602 595.485 984.341 592.305 C 971.157 584.335 954.589 584.551 941.617 592.861 C 928.645 601.171 921.523 616.131 923.252 631.439 C 923.931 637.453 925.786 644.197 922.21 649.08 C 919.063 653.377 913.122 654.183 907.904 655.251 C 896.71 657.541 885.912 662.825 878.316 671.359 C 870.72 679.894 866.668 691.868 868.958 703.061 C 871.248 714.254 880.436 724.091 891.729 725.826 C 900.92 727.238 910.411 723.334 917.161 716.938 C 923.911 710.541 928.178 701.902 930.869 693.001 C 934.063 682.435 935.323 671.05 941.09 661.639 C 946.733 652.429 958.894 645.827 968.425 650.623 C 968.798 650.819 969.254 650.764 969.571 650.486 L 969.571 650.486 Z ",fill:"rgb(47,46,65)"})))))}var Z,R,A=n.forwardRef(z),P=(r.p,r(99),function(e){var t=e.side,r=e.text,n=e.classNames,c=e.onClick;return Object(L.jsx)("button",{onClick:c,className:"balloon ".concat(t," ").concat(n),children:r})}),T=["title","titleId"];function B(){return B=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},B.apply(this,arguments)}function D(e,t){if(null==e)return{};var r,n,c=function(e,t){if(null==e)return{};var r,n,c={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(c[r]=e[r]);return c}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(c[r]=e[r])}return c}function I(e,t){var r=e.title,c=e.titleId,a=D(e,T);return n.createElement("svg",B({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",style:{isolation:"isolate"},viewBox:"725.916 277.806 126.084 126.625",width:"126.084pt",height:"126.625pt",ref:t,"aria-labelledby":c},a),r?n.createElement("title",{id:c},r):null,Z||(Z=n.createElement("defs",null,n.createElement("clipPath",{id:"_clipPath_6WzQTH1Jmb6TDhbEWPgWa266XTfY8aGn"},n.createElement("rect",{x:725.916,y:277.806,width:126.084,height:126.625})))),R||(R=n.createElement("g",{clipPath:"url(#_clipPath_6WzQTH1Jmb6TDhbEWPgWa266XTfY8aGn)"},n.createElement("path",{d:" M 825.434 383.9 C 827.586 388.488 830.84 393.774 835.099 400.785 C 836.235 402.655 835.147 403.671 833.119 404.215 C 828.502 405.452 815.815 401.083 811.288 398.469 C 809.608 397.5 807.398 396.213 804.986 394.602 L 790.834 402.01 C 785.419 404.844 777.475 403.675 773.105 399.401 L 730.317 357.541 C 725.948 353.266 724.605 345.35 727.32 339.874 L 753.907 286.247 C 756.622 280.771 763.736 277.048 769.784 277.937 L 829.005 286.652 C 835.052 287.542 840.792 293.157 841.814 299.183 L 851.825 358.197 C 852.848 364.223 849.281 371.417 843.865 374.252 L 825.434 383.9 Z  M 824.504 358.081 L 799.951 356.118 L 787.505 377.454 C 785.663 380.613 783.47 380.292 782.612 376.736 L 776.826 352.751 L 752.826 347.524 C 749.252 346.746 748.884 344.564 752.004 342.655 L 773.009 329.803 L 770.524 305.306 C 770.155 301.667 772.115 300.64 774.898 303.013 L 793.59 318.953 L 816.175 309.035 C 819.524 307.564 821.107 309.114 819.708 312.493 L 810.261 335.315 L 826.69 353.671 C 829.129 356.396 828.15 358.372 824.504 358.081 Z ",fillRule:"evenodd",fill:"rgb(1,140,73)"}))))}var J=n.forwardRef(I);r.p;var U=function(e){var t=e.textColor,r=e.linkTo,n=void 0===r?"#":r;return Object(L.jsx)("div",{className:"black"===t?"text-black":"text-white",children:Object(L.jsxs)(o.b,{to:n,children:[Object(L.jsx)(J,{className:"inline-block w-8 h-8 mr-2 md:w-10 md:h-10"}),Object(L.jsx)("span",{className:"inline-block text-3xl tracking-wide align-middle md:text-4xl font-bold ubuntu-font",children:"voku"})]})})};var W=function(e){var t=e.classNames,r=Object(n.useState)(!1),c=Object(b.a)(r,2),a=c[0],l=c[1],s=function(){l((function(e){return!e}))};return Object(L.jsxs)("div",{className:"flex justify-between py-3 ".concat(t||""),children:[Object(L.jsxs)("div",{className:"flex items-end",children:[Object(L.jsx)(U,{textColor:"white",linkTo:"/"}),Object(L.jsxs)("div",{className:"hidden space-x-10 md:block roboto-font",children:[Object(L.jsx)(o.b,{to:"/call",className:"hidden mt-auto text-2xl text-gray-light hover:text-secondary",children:"About"}),Object(L.jsx)("a",{href:"https://github.com/voku-org/voku-site",className:"mt-auto text-2xl text-gray-light hover:text-secondary",target:"_blank",rel:"noopener noreferrer",children:"Donate"}),Object(L.jsx)("a",{href:"https://github.com/voku-org/voku-site",className:"mt-auto text-2xl text-gray-light hover:text-secondary",target:"_blank",rel:"noopener noreferrer",children:"GitHub"})]})]}),Object(L.jsxs)("div",{className:"hidden space-x-5",children:[Object(L.jsx)(P,{side:"left",text:"Sign In",classNames:"bg-trasparent text-white font-semibold roboto-font text-sm border-4 border-gray h-10 py-1"}),Object(L.jsx)(P,{side:"right",text:"Sign Up",classNames:"bg-secondary text-white font-semibold roboto-font text-sm border-secondary h-10 py-1"})]}),Object(L.jsx)("button",{onClick:s,className:"block md:hidden focus:outline-none",children:Object(L.jsx)("svg",{className:"text-white w-7 h-7",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(L.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),Object(L.jsxs)("div",{className:"fixed top-0 flex flex-col justify-center left-0 z-10 w-screen h-full pt-4 bg-dark-secondary"+(a?" block":" hidden"),children:[Object(L.jsx)("div",{className:"flex justify-end pr-3 mb-10",children:Object(L.jsx)("button",{onClick:s,className:"focus:outline-none",children:Object(L.jsx)("svg",{className:"text-white w-7 h-7",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(L.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})}),Object(L.jsxs)("div",{className:"flex flex-col h-full roboto-font",children:[Object(L.jsxs)("div",{className:"flex flex-col",children:[Object(L.jsx)(o.b,{to:"/about",onClick:s,className:"hidden mb-6 text-3xl text-gray-ligh",href:"#",children:"About"}),Object(L.jsx)("a",{onClick:s,href:"https://github.com/videovoko/videovoko-org/",className:"mb-6 text-3xl text-gray-light",target:"_blank",rel:"noopener noreferrer",children:"Donate"}),Object(L.jsx)("a",{onClick:s,href:"https://github.com/voku-org/voku-site",className:"text-3xl text-gray-light",target:"_blank",rel:"noopener noreferrer",children:"GitHub"})]}),Object(L.jsx)("div",{className:"flex items-end justify-center h-full pb-2",children:Object(L.jsx)("p",{className:"text-lg text-left text-gray-400",children:"\xa9 2022 voku.org"})})]})]})]})};var Q=function(e){var t=e.id,r=e.title,c=e.ref,a=e.children,l=e.initialVisibility,o=void 0!==l&&l,s=Object(n.useState)(o),i=Object(b.a)(s,2),d=i[0],u=i[1];return Object(L.jsx)("div",{id:t,ref:c,onClick:function(e){e.target.id===t&&u((function(e){return!e}))},className:"\n      ".concat(d?"":"hidden","\n      fixed inset-0 inset-x-0 z-50 flex items-center w-full h-full bg-black bg-opacity-80\n    "),children:Object(L.jsxs)("div",{className:"w-11/12 mx-auto text-white rounded-lg md:w-1/3 bg-dark-tertiary",children:[Object(L.jsxs)("div",{className:"flex justify-between px-5 py-3 mb-5 text-2xl md:text-2xl",children:[r,Object(L.jsx)("button",{onClick:function(){u(!1)},className:"focus:outline-none",children:Object(L.jsx)("svg",{className:"w-7 h-7 md:w-6 md:h-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(L.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),Object(L.jsx)("div",{className:"h-full",children:a})]})})},H=function(e){var t=e.type,r=e.value,n=e.classNames,c=e.placeholder,a=e.onChange,l=e.onKeyDown,o=e.maxLength;return Object(L.jsx)("input",{type:t,className:"".concat(n||""," h-10 px-4 py-1 overflow-auto border-2 border-solid rounded-lg resize-none border-gray bg-dark-secondary focus:outline-none"),value:r,onChange:a,onKeyDown:l,placeholder:c,maxlength:o})};var _=function(e){var t=e.type,r=e.onClick,n=e.classNames,c=e.children,a=e.disabled;return Object(L.jsx)("button",{type:t,onClick:r,className:"inline-flex items-center px-2 py-1 rounded-lg focus:outline-none disabled:opacity-50 ".concat(n||""),disabled:a,children:c})},F=function(e){var t=e.id,r=e.title,c=Object(n.useState)(),a=Object(b.a)(c,2),l=a[0],o=a[1],s=!/^[a-z]{4}-[a-z]{4}$/.test(l),i=Object(n.useContext)(N),d=i.setCallLinkModalVisibility,u=i.startRoom,f=i.joinRoom;return Object(L.jsx)(Q,{id:t,title:r,children:Object(L.jsxs)("div",{className:"flex flex-col w-auto px-5 pb-5",children:[Object(L.jsx)("div",{classNames:"text-center",children:Object(L.jsx)(_,{onClick:function(){d(!0),u("direct")},classNames:"h-10 w-full md:w-72 justify-center text-xl bg-primary hover:bg-primary-dark",children:"Start Room"})}),Object(L.jsx)("span",{className:"py-6",children:"Or join with ID:"}),Object(L.jsxs)("div",{className:"flex justify-center",children:[Object(L.jsx)(H,{classNames:"w-full text-center md:w-36 md:mb-0 mb-2 mr-2 block text-xl focus:border-primary md:col-span-1 col-span-2",type:"text",maxLength:"9",placeholder:"abcd-wxyz",value:l,onChange:function(e){var t=e.target.value;t=4===t.length&&t.length>l.length?"".concat(t,"-"):t,o(t)}}),Object(L.jsx)(_,{onClick:function(){d(!1),f(l)},classNames:"w-full justify-center md:w-36 h-10 block text-xl bg-secondary md:col-span-1 col-span-2 hover:bg-secondary-dark",disabled:s,children:"Join Room"})]})]})})};var G=function(){var e=Object(n.useContext)(N),t=e.setCallLinkModalVisibility,r=e.isPeerSetted,c=e.destroyPeer,a=e.randomCall;return e.stopLocalStream,r()&&c(),Object(L.jsxs)("div",{className:"flex flex-col w-full h-full px-3 md:h-screen md:px-24 bg-dark",children:[Object(L.jsx)(W,{classNames:""}),Object(L.jsxs)("div",{className:"grid content-center justify-center h-full grid-cols-2 pt-3 md:pt-0",children:[Object(L.jsx)("div",{className:"flex justify-center order-1 w-full h-full col-span-2 mb-8 md:col-span-1 md:order-2 md:mb-0",children:Object(L.jsx)(A,{className:"object-none object-center w-3/5 h-full md:w-10/12"})}),Object(L.jsx)("div",{className:"flex flex-col order-2 w-full h-auto col-span-2 md:col-span-1 md:order-1",children:Object(L.jsxs)("div",{className:"flex flex-col w-full h-full md:justify-center",children:[Object(L.jsxs)("h1",{className:"mb-3 text-2xl font-bold leading-snug text-center text-white md:text-left md:leading-snug md:text-5xl roboto-font",children:["Speak Esperanto With Someone Around The World",Object(L.jsx)("font",{className:"text-primary",children:"."})]}),Object(L.jsxs)("p",{className:"text-lg leading-normal text-center md:text-left md:leading-normal md:w-9/12 md:text-2xl mb-7 text-gray-light roboto-font",children:[Object(L.jsx)("span",{className:"hidden md:block",children:"Be part of the hub of esperanto speakers and promote this beautiful language."}),Object(L.jsx)("span",{className:"md:hidden",children:"Be part of the hub of esperanto speakers."})]}),Object(L.jsxs)("div",{className:"grid grid-cols-1 mt-3 md:mt-0 md:w-max md:grid-cols-2 md:space-x-5 md:justify-start",children:[Object(L.jsx)(P,{onClick:function(){document.getElementById("roomModal").click()},classNames:"md:w-auto w-full text-2xl md:text-3xl text-white roboto-font font-medium bg-dark-tertiary hover:bg-gray border-dark-tertiary hover:border-gray",side:"left",text:"Call Friend"}),Object(L.jsx)(P,{onClick:function(){t(!1),a()},classNames:"md:w-auto my-3 md:my-0 w-full text-2xl md:text-3xl text-white roboto-font font-medium bg-primary hover:bg-primary-dark border-primary hover:border-primary-dark",side:"right",text:"Random Call"})]})]})})]}),Object(L.jsx)("div",{className:"hidden py-1 md:block",children:Object(L.jsx)("p",{className:"text-lg text-left text-gray-400 roboto-font",children:"\xa9 2022 voku.org"})}),Object(L.jsx)(F,{id:"roomModal",title:"Call Friend"})]})},K=r(54),q=r.n(K);r(112);var Y=function(e){var t=e.text,r=e.side,n=e.classNames;return Object(L.jsx)("div",{className:"left"===r?"pr-6":"pl-6",children:Object(L.jsx)("div",{className:"message ".concat(r," ").concat(n||""),children:Object(L.jsx)(q.a,{componentDecorator:function(e,t,r){return Object(L.jsx)("a",{href:e,target:"_blank",className:"font-bold text-secondary-dark",children:t},r)},children:t})})})};var X=function(e){var t=e.placeholder,r=e.onSend,c=Object(n.useState)(),a=Object(b.a)(c,2),l=a[0],o=a[1],s=function(e){e&&e.preventDefault(),l.trim()&&r(l),o("")};return Object(L.jsxs)("form",{onSubmit:s,className:"flex p-3 border-t-2 border-gray",children:[Object(L.jsx)("textarea",{className:"w-full h-10 px-4 py-1 mr-2 overflow-auto border-2 border-solid rounded-lg resize-none border-gray bg-dark-secondary focus:outline-none focus:border-primary",value:l,onChange:function(e){var t=e.target.value,r=t[t.length-1];if(t&&"x"===r.toLowerCase()){var n=t[t.length-2],c=t.slice(0,t.length-2);switch(n){case"C":t=c+"\u0108";break;case"c":t=c+"\u0109";break;case"G":t=c+"\u011c";break;case"g":t=c+"\u011d";case"H":t=c+"\u0124";break;case"h":t=c+"\u0125";break;case"J":t=c+"\u0134";break;case"j":t=c+"\u0135";break;case"S":t=c+"\u015c";break;case"s":t=c+"\u015d";break;case"U":t=c+"\u016c";break;case"u":t=c+"\u016d"}}o(t)},onKeyDown:function(e){13===e.keyCode&&!1===e.shiftKey&&(e.preventDefault(),s())},placeholder:t}),Object(L.jsx)(_,{type:"submit",classNames:"transform rotate-90 bg-primary hover:bg-primary-dark",children:Object(L.jsx)("svg",{className:"w-6 h-6",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:Object(L.jsx)("path",{d:"M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z"})})})]})};r(113);var $=function(){var e=Object(n.useContext)(N),t=e.Messages,r=e.sendMessage,c=Object(n.useRef)();Object(n.useEffect)((function(){c.current.scrollIntoView({behavior:"smooth"})}));var a=t.map((function(e,t){var r="me"===e.user;return Object(L.jsx)(Y,{kk:t,text:e.text,side:r?"right":"left",classNames:r?"bg-primary":"bg-gray"})}));return Object(L.jsxs)("div",{className:"flex flex-col w-full h-full overflow-hidden",children:[Object(L.jsxs)("div",{className:"flex flex-col h-full px-3 pb-1 overflow-x-hidden overflow-y-auto",children:[Object(L.jsx)("div",{className:"h-full"}),a,Object(L.jsx)("div",{ref:c})]}),Object(L.jsx)("div",{className:"w-full",children:Object(L.jsx)(X,{onSend:function(e){r(e)},placeholder:"Aa"})})]})},ee=function(e){var t=e.id,r=e.title,c=e.onSubmit,a=e.initialVisibility,l=Object(n.useContext)(N),o=l.myName,s=l.setMyName,i=Object(n.useState)(o),d=Object(b.a)(i,2),u=d[0],f=d[1];Object(n.useEffect)((function(){document.querySelector("#".concat(t," input")).focus()}));var m=function(){s(u),c(),document.getElementById(t).click()};return Object(L.jsx)(Q,{id:t,title:r,initialVisibility:a,children:Object(L.jsxs)("div",{className:"flex flex-col px-5 pb-5",children:[Object(L.jsx)("p",{className:"pb-5 text-xl",children:"Set your name:"}),Object(L.jsxs)("div",{className:"space-x-2",children:[Object(L.jsx)(H,{classNames:"w-2/4 text-xl focus:border-primary text-center",type:"text",maxLength:"20",placeholder:o,onChange:function(e){var t=e.target.value;f(t)},onKeyDown:function(e){13===e.keyCode&&m()},autoFocus:!0}),Object(L.jsx)(_,{onClick:m,classNames:"h-10 text-xl bg-primary hover:bg-primary-dark",children:"Continue"})]})]})})};var te=function(e){var t=e.id,r=e.title,c=e.classNames,a=e.ref,l=e.children,o=e.initialVisibility,s=void 0!==o&&o,i=e.onClose,d=Object(n.useState)(s),u=Object(b.a)(d,2),f=u[0],m=u[1];return Object(L.jsxs)("div",{id:t,ref:a,className:"\n        ".concat(c||"","\n        ").concat(f?"":"hidden","\n        fixed z-40 w-max text-white rounded-lg top-3 left-3 md:w-max bg-dark-tertiary\n      "),children:[Object(L.jsxs)("div",{className:"flex justify-between px-5 py-3 mb-5 text-2xl",children:[r,Object(L.jsx)("button",{onClick:function(){m(!1),i()},className:"focus:outline-none",children:Object(L.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-8 h-8 md:w-6 md:h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(L.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),Object(L.jsx)("div",{className:"h-full",children:l})]})};var re=function(e){var t=e.text,r=void 0===t?c:t,n=e.value,c=void 0===n?r:n,a=e.buttonColor,l=e.classNames;return Object(L.jsxs)("div",{className:"\n      ".concat(l||"","\n        inline-flex items-center px-3 py-2 rounded-lg bg-dark w-max text-gray-light\n      "),children:[Object(L.jsx)("span",{className:"font-bold text-md",children:r}),Object(L.jsx)("button",{onClick:function(){return navigator.clipboard.writeText(c)},className:"ml-3 focus:outline-none",children:Object(L.jsx)("svg",{className:"\n            ".concat(a||"text-secondary","\n            w-6 h-6\n          "),xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(L.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})})]})},ne=function(e){var t=e.id,r=e.classNames,c=Object(n.useContext)(N).setCallLinkModalVisibility;return Object(L.jsx)(te,{id:t,title:"Invite a friend",classNames:r,initialVisibility:!0,onClose:function(){return c(!1)},children:Object(L.jsxs)("div",{className:"flex flex-col px-5 pb-5",children:[Object(L.jsx)("p",{className:"mb-3 text-xl",children:"Share this link to your friend:"}),Object(L.jsx)(re,{classNames:"mx-auto",value:"".concat(window.location.origin,"/").concat(y()),text:"".concat(window.location.host,"/").concat(y())})]})})};r(34);var ce=function(e){var t=e.user,r=e.name,c=e.color,a=e.onClickVideo,l=e.classNames,o=Object(n.useRef)(),s=Object(n.useContext)(N),i=s.localStream,d=s.guestStream,u=s.localMediaStatus,f=s.guestMediaStatus,b="local"===t?i.current:d.current,m="local"===t?u:f;return Object(n.useEffect)((function(){var e=o.current;e&&!e.srcObject&&b&&(e.srcObject=b,e.play())})),Object(L.jsxs)("div",{className:"".concat(l||"","\n         relative flex flex-wrap content-center justify-center border-2 border-solid rounded-lg bg-dark-secondary border-gray w-full h-2/5 md:w-2/5 md:h-fit"),children:[!m.video&&Object(L.jsx)("div",{className:"".concat(c||"","\n            flex flex-wrap content-center justify-center w-24 h-24 my-auto text-5xl text-white rounded-full"),children:r[0]}),Object(L.jsx)("video",{id:"".concat(t,"-video"),ref:o,onClick:a,className:"".concat("local"===t?"mirrored":"","\n          ").concat(m.video?"":"hidden","\n          absolute w-full h-full bg-black rounded-lg"),muted:"local"===t}),Object(L.jsx)("div",{className:"absolute bottom-0 left-0 px-2 py-1 text-white rounded-tr-lg rounded-bl-md bg-dark-tertiary",children:r})]})};var ae=function(e){var t=Object(n.useContext)(N),r=t.focusLocalUserVideo,c=t.focusGuestUserVideo,a=t.myName,l=t.guestName,o=t.peerConnection;return Object(L.jsxs)("div",{className:"flex flex-wrap content-center justify-center w-full h-full video-area",children:[o&&Object(L.jsx)(ce,{user:"guest",name:l,color:"bg-primary",classNames:"m-3",onClickVideo:c}),Object(L.jsx)(ce,{user:"local",name:a,color:"bg-primary",classNames:"m-3",onClickVideo:r})]})};var le=function(e){var t=e.user,r=e.name,c=e.color,a=e.onClickVideo,l=e.children,o=Object(n.useRef)(),s=Object(n.useContext)(N),i=s.localStream,d=s.guestStream,u=s.localMediaStatus,f=s.guestMediaStatus,b="local"===t?i.current:d.current,m="local"===t?u:f;return Object(n.useEffect)((function(){var e=o.current;e&&!e.srcObject&&b&&(e.srcObject=b,e.play())})),Object(L.jsxs)("div",{className:"relative flex flex-wrap content-center justify-center md:border-2 md:border-solid md:rounded-lg md:bg-dark-secondary md:border-gray h-screen md:h-full md:w-fit",children:[!m.video&&Object(L.jsx)("div",{className:"pading-squared-aspect-ratio",children:Object(L.jsx)("div",{className:"".concat(c||"","\n              flex flex-wrap content-center justify-center w-24 h-24 my-auto mx-full text-5xl text-white rounded-full"),children:r[0]})}),Object(L.jsx)("video",{id:"".concat(t,"-video"),ref:o,onClick:a,className:"".concat("local"===t?"mirrored":"","\n          ").concat(m.video?"":"hidden","\n          w-full h-full md:rounded-lg bg-black"),muted:"local"===t}),Object(L.jsx)("div",{className:"absolute bottom-16 left-1/2 transform -translate-x-1/2 md:top-auto md:bottom-0 md:left-0 md:-translate-x-0 md:px-2 md:py-1 text-white text-lg md:rounded-tr-lg md:rounded-bl-md md:bg-dark-tertiary",children:r}),l]})};var oe=function(e){var t=e.user,r=e.name,c=e.color,a=e.onClickVideo,l=e.classNames,o=Object(n.useRef)(),s=Object(n.useContext)(N),i=s.localStream,d=s.guestStream,u=s.localMediaStatus,f=s.guestMediaStatus,b="local"===t?i.current:d.current,m="local"===t?u:f;return Object(n.useEffect)((function(){var e=o.current;e&&!e.srcObject&&b&&(e.srcObject=b,e.play())})),Object(L.jsxs)("div",{className:"".concat(l||"","\n        flex flex-wrap content-center justify-center rounded-lg bg-dark-secondary border-gray w-4/12 h-auto md:w-3/12 md:h-auto"),children:[!m.video&&Object(L.jsx)("div",{className:"pading-squared-aspect-ratio",children:Object(L.jsx)("div",{className:"".concat(c||"","\n              flex flex-wrap content-center justify-center w-16 h-16 md:w-24 md:h-24 my-3 md:m-6 text-4xl md:text-5xl text-white rounded-full"),children:r[0]})}),Object(L.jsx)("video",{id:"".concat(t,"-video"),ref:o,onClick:a,className:"".concat("local"===t?"mirrored":"","\n          ").concat(m.video?"":"hidden","\n          w-full h-full bg-black rounded-lg"),muted:"local"===t})]})};var se=function(e){var t=Object(n.useContext)(N),r=t.focusedUserVideo,c=t.focusLocalUserVideo,a=t.focusGuestUserVideo,l=t.splitUserVideos,o=t.myName,s=t.guestName,i=t.peerConnection;return Object(L.jsxs)("div",{className:"relative flex flex-wrap content-center justify-center w-full h-full video-area",children:["local"===r&&Object(L.jsx)(le,{user:"local",name:o,color:"bg-primary",onClickVideo:l,children:i&&Object(L.jsx)("div",{className:"absolute top-3 right-3 w-auto justify-end flex",children:Object(L.jsx)(oe,{user:"guest",name:s,color:"bg-primary",onClickVideo:a})})}),"guest"===r&&Object(L.jsx)(le,{user:"guest",name:s,color:"bg-primary",onClickVideo:l,children:i&&Object(L.jsx)("div",{className:"absolute top-3 right-3 w-auto justify-end flex",children:Object(L.jsx)(oe,{user:"local",name:o,color:"bg-primary",onClickVideo:c})})})]})};var ie=function(){var e=Object(n.useContext)(N),t=e.setCallLinkModalVisibility,r=e.callType,c=e.nextRandomCall,a=e.finishCall,l=e.localMediaStatus,o=e.enableLocalVideo,s=e.enableLocalAudio,i=e.disableLocalVideo,d=e.disableLocalAudio;return Object(L.jsxs)("div",{className:"relative flex content-center justify-center space-x-3",children:[Object(L.jsxs)(_,{classNames:"invisible h-10 w-10 justify-center bg-dark-tertiary hover:bg-gray text-white absolute bottom-0 left-3",children:[Object(L.jsx)("svg",{className:"w-5 h-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:Object(L.jsx)("path",{fillRule:"evenodd",d:"M9.383 3.076A1 1 0 0110 4v12a1 1 0 01-1.707.707L4.586 13H2a1 1 0 01-1-1V8a1 1 0 011-1h2.586l3.707-3.707a1 1 0 011.09-.217zM14.657 2.929a1 1 0 011.414 0A9.972 9.972 0 0119 10a9.972 9.972 0 01-2.929 7.071 1 1 0 01-1.414-1.414A7.971 7.971 0 0017 10c0-2.21-.894-4.208-2.343-5.657a1 1 0 010-1.414zm-2.829 2.828a1 1 0 011.415 0A5.983 5.983 0 0115 10a5.984 5.984 0 01-1.757 4.243 1 1 0 01-1.415-1.415A3.984 3.984 0 0013 10a3.983 3.983 0 00-1.172-2.828 1 1 0 010-1.415z",clipRule:"evenodd"})}),Object(L.jsx)("svg",{className:"hidden w-5 h-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:Object(L.jsx)("path",{fillRule:"evenodd",d:"M9.383 3.076A1 1 0 0110 4v12a1 1 0 01-1.707.707L4.586 13H2a1 1 0 01-1-1V8a1 1 0 011-1h2.586l3.707-3.707a1 1 0 011.09-.217zM12.293 7.293a1 1 0 011.414 0L15 8.586l1.293-1.293a1 1 0 111.414 1.414L16.414 10l1.293 1.293a1 1 0 01-1.414 1.414L15 11.414l-1.293 1.293a1 1 0 01-1.414-1.414L13.586 10l-1.293-1.293a1 1 0 010-1.414z",clipRule:"evenodd"})})]}),Object(L.jsx)(_,{onClick:function(){l.audio?d():s()},classNames:"".concat(l.audio?"text-white":"text-gray-500","\n          h-10 w-10 justify-center bg-dark-tertiary hover:bg-gray"),children:Object(L.jsx)("svg",{className:"w-5 h-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:Object(L.jsx)("path",{fillRule:"evenodd",d:"M7 4a3 3 0 016 0v4a3 3 0 11-6 0V4zm4 10.93A7.001 7.001 0 0017 8a1 1 0 10-2 0A5 5 0 015 8a1 1 0 00-2 0 7.001 7.001 0 006 6.93V17H6a1 1 0 100 2h8a1 1 0 100-2h-3v-2.07z",clipRule:"evenodd"})})}),Object(L.jsx)(_,{onClick:function(){l.video?i():o()},classNames:"".concat(l.video?"text-white":"text-gray-500","\n          h-10 w-10 justify-center bg-dark-tertiary hover:bg-gray"),children:Object(L.jsx)("svg",{class:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:Object(L.jsx)("path",{d:"M2 6a2 2 0 012-2h6a2 2 0 012 2v8a2 2 0 01-2 2H4a2 2 0 01-2-2V6zM14.553 7.106A1 1 0 0014 8v4a1 1 0 00.553.894l2 1A1 1 0 0018 13V7a1 1 0 00-1.447-.894l-2 1z"})})}),Object(L.jsxs)(_,{onClick:function(){t(!1),a()},classNames:"h-10 px-4 bg-danger hover:bg-danger-dark text-white",children:[Object(L.jsx)("svg",{className:"w-6 h-6 rotate-135",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:Object(L.jsx)("path",{d:"M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z"})}),Object(L.jsx)("span",{className:"ml-2 text-lg",children:"Finish Call"})]}),"random"===r.current&&Object(L.jsxs)(_,{onClick:function(){c()},classNames:"h-10 px-4 bg-primary hover:bg-primary-dark text-white",children:[Object(L.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5",viewBox:"0 0 20 20",fill:"currentColor",children:[Object(L.jsx)("path",{d:"M17.924 2.617a.997.997 0 00-.215-.322l-.004-.004A.997.997 0 0017 2h-4a1 1 0 100 2h1.586l-3.293 3.293a1 1 0 001.414 1.414L16 5.414V7a1 1 0 102 0V3a.997.997 0 00-.076-.383z"}),Object(L.jsx)("path",{d:"M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z"})]}),Object(L.jsx)("span",{className:"ml-2 text-lg",children:"Next Call"})]}),Object(L.jsx)(_,{classNames:"invisible h-10 w-10 justify-center bg-dark-tertiary hover:bg-gray text-white absolute right-3",children:Object(L.jsx)("svg",{className:"w-5 h-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(L.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4"})})})]})};var de=function(){var e=Object(n.useContext)(N),t=e.focusedUserVideo,r=e.callLinkModalVisibility,c=e.isPeerConnected,a=e.callType,l=e.joinRoom;return Object(n.useEffect)((function(){window.onbeforeunload=function(e){if(c())return"Are you sure you want to leave?"}})),Object(L.jsxs)("div",{className:"grid w-full h-screen grid-cols-8 overflow-hidden bg-dark",children:[Object(L.jsx)(ee,{id:"userInfoModal",title:"User Name",initialVisibility:!0,onSubmit:function(){a.current||l(y())}}),r&&Object(L.jsx)(ne,{}),Object(L.jsxs)("div",{className:"flex flex-col h-full col-span-8 md:col-span-6 main-panel",children:["none"===t&&Object(L.jsx)("div",{className:"w-full h-full pb-16 md:pb-0",children:Object(L.jsx)(ae,{})}),"none"!==t&&Object(L.jsx)("div",{className:"w-full h-full md:p-3",children:Object(L.jsx)(se,{})}),Object(L.jsx)("div",{className:"py-3 bottom-0 inset-x-0 mx-auto z-20 absolute md:static",children:Object(L.jsx)(ie,{})})]}),Object(L.jsxs)("div",{className:"hidden md:flex flex-col h-full col-span-2 overflow-hidden text-white rounded-l-lg bg-dark-tertiary",children:[Object(L.jsx)("div",{className:"py-3 border-b-2 border-solid border-gray",children:Object(L.jsx)("span",{className:"text-xl font-bold text-secondary",children:y()})}),Object(L.jsx)($,{}),Object(L.jsx)("span",{})]})]})};var ue=function(){return Object(L.jsx)("div",{className:"App",children:Object(L.jsx)(o.a,{children:Object(L.jsx)(E,{children:Object(L.jsxs)(s.c,{children:[Object(L.jsx)(s.a,{exact:!0,path:"/:id",render:function(e){var t=e.match;return/^[a-z]{4}-[a-z]{4}$/.test(t.params.id)?Object(L.jsx)(de,{}):Object(L.jsx)(G,{})}}),Object(L.jsx)(s.a,{path:"/",children:Object(L.jsx)(G,{})})]})})})})},fe=function(e){e&&e instanceof Function&&r.e(4).then(r.bind(null,118)).then((function(t){var r=t.getCLS,n=t.getFID,c=t.getFCP,a=t.getLCP,l=t.getTTFB;r(e),n(e),c(e),a(e),l(e)}))};l.a.render(Object(L.jsx)(c.a.StrictMode,{children:Object(L.jsx)(ue,{})}),document.getElementById("root")),fe()},12:function(e,t,r){},34:function(e,t,r){},60:function(e,t,r){},84:function(e,t){},86:function(e,t){},99:function(e,t,r){}},[[114,1,2]]]);
//# sourceMappingURL=main.26b62b48.chunk.js.map