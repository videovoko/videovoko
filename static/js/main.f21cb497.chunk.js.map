{"version":3,"sources":["firebase.js","utils/identify.js","contexts/AppContext/AppContext.jsx","assets/home-illustration.svg","components/balloon-button/BalloonButton.jsx","assets/logo.svg","components/logo/Logo.jsx","components/nav-bar/NavBar.jsx","components/modals/Modal.jsx","components/input/Input.jsx","components/button/Button.jsx","components/modals/RoomModal.jsx","pages/Home/Home.jsx","components/chat-message/ChatMessage.jsx","components/chat-input/ChatInput.jsx","components/chat/Chat.jsx","components/user-video-box/UserVideoBox.jsx","components/call-controls/CallControls.jsx","pages/CallRoom/CallRoom.jsx","App.js","reportWebVitals.js","index.js"],"names":["firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","analytics","firestore","generateId","id","i","Math","ceil","random","setRoomId","window","location","hash","history","replaceState","getRoomId","substr","AppContext","createContext","AppContextProvider","children","peer","useRef","setPeer","isInitiator","current","Peer","initiator","trickle","stream","localStream","config","iceServers","urls","console","log","on","stopListenAnswer","deleteSignal","data","a","sdp","JSON","stringify","roomId","pushOffer","callType","setStopListenAnswer","listenAnswer","call","pushAnswer","guestStream","setGuestMediaStatus","video","audio","decodedData","TextDecoder","decode","type","corpus","addMessage","status","parse","err","warn","destroy","randomCall","waitSignalServerConnection","reconnectCall","signalPeer","signal","isPeerConnected","connected","sendToPeer","send","destroyPeer","callsDB","collection","listenAnswerFinisher","finisher","callback","doc","get","then","catch","getSignal","getOffer","offer","undefined","getRandom","where","calls","snapshot","forEach","String","set","date","Date","now","answer","update","onSnapshot","delete","randomSignal","getLocalStream","startRoom","joinRoom","useState","Messages","setMessages","user","message","prevMessages","text","localMediaStatus","setLocalMediaStatus","guestMediaStatus","callbackParam","navigator","mediaDevices","getUserMedia","sendStatus","Provider","value","isPeerSetted","finishCall","sendMessage","stopLocalStream","getTracks","track","stop","enableLocalVideo","getVideoTracks","enabled","prevStatus","newStatus","enableLocalAudio","getAudioTracks","disableLocalVideo","disableLocalAudio","_extends","Object","assign","target","arguments","length","source","key","prototype","hasOwnProperty","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","x","y","width","height","clipPath","d","fill","opacity","vectorEffect","cx","cy","r","SvgHomeIllustration","_ref","svgRef","title","titleId","props","xmlns","xmlnsXlink","style","isolation","viewBox","ref","ForwardRef","BalloonButton","side","classNames","onClick","className","SvgLogo","stroke","strokeMiterlimit","Logo","textColor","NavBar","to","href","rel","Modal","visibility","setVisibility","e","prevVisibility","strokeLinecap","strokeLinejoin","strokeWidth","Input","placeholder","onChange","onKeyDown","maxLength","maxlength","Button","disabled","RoomModal","isValidId","test","useContext","Home","document","getElementById","click","ChatMessage","ChatInput","onSend","setMessage","handleSubmit","preventDefault","trim","onSubmit","keyCode","shiftKey","Chat","messagesAnchor","useEffect","scrollIntoView","behavior","messageList","map","index","localUser","kk","UserVideoBox","name","color","onClickVideo","videoRef","mediaStatus","srcObject","play","muted","CallControls","useHistory","fillRule","clipRule","replace","class","CallRoom","App","hashType","exact","path","render","match","params","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode"],"mappings":"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","file":"static/js/main.f21cb497.chunk.js","sourcesContent":["import firebase from 'firebase/app';\nimport 'firebase/analytics';\nimport 'firebase/firestore';\n\nconst firebaseConfig = {\n  apiKey: \"AIzaSyC7Z7gv1LTtLw5ITSGESYrmHKJ2qWo1r0Q\",\n  authDomain: \"videovokodb.firebaseapp.com\",\n  projectId: \"videovokodb\",\n  storageBucket: \"videovokodb.appspot.com\",\n  messagingSenderId: \"979268679004\",\n  appId: \"1:979268679004:web:67da5584975065c0f9fd99\",\n  measurementId: \"G-0QDFJ7FG90\"\n};\n\n// Initialize Firebase\nfirebase.initializeApp(firebaseConfig);\nfirebase.analytics();\n\nconst firestore = firebase.firestore();\n\nexport { firestore };\nexport default firebase;","const generateId = () => {\n  let abc = 'abcdefghijklmnopqrstuvwxyz';\n  let id = '';\n  \n  for (let i = 0; i < 9; i++) {\n    if (i === 4) id += '-';\n    else id += abc[Math.ceil(Math.random() * 26) - 1];\n  }\n\n  return id;\n};\n\nconst setRoomId = (id) => {\n  if (window.location.hash) {\n    window.history.replaceState(null, null, `#${id}`);\n  } else {\n    window.location.hash = id;\n  }\n};\n\nconst getRoomId = () => {\n  return window.location.hash.substr(1);\n};\n\nexport { generateId, setRoomId, getRoomId };","import React, { createContext, useState, useRef } from 'react';\nimport Peer from 'simple-peer';\n\nimport { firestore } from '../../firebase';\n\nimport { generateId, setRoomId, getRoomId } from '../../utils/identify';\n\nconst AppContext = createContext();\n\nconst AppContextProvider = ({ children }) => {\n\n  // ╔══════════════════════════════════════════════════════════╗\n  // ║                       Peer Module                        ║                            \n  // ╚══════════════════════════════════════════════════════════╝\n\n  let peer = useRef(null);\n\n  // Set the peer configuration\n  const setPeer = (isInitiator) => {\n    peer.current = new Peer({\n      initiator: isInitiator,\n      trickle: false,\n      stream: localStream.current,\n      config: {\n        iceServers: [\n          { urls: \"stun:stun1.l.google.com:19302\" },\n          { urls: \"stun:stun2.l.google.com:19302\" },\n          { urls: \"stun:global.stun.twilio.com:3478\" }\n        ]\n      }\n    });\n\n    console.log('PEER'); // --------------------------------------\n\n    peer.current.on('connect', () => {\n      stopListenAnswer();\n      deleteSignal(getRoomId());\n      \n      console.log('CONNECTED!');\n    });\n\n    peer.current.on('signal', async data => {\n      let sdp = JSON.stringify(data);\n\n      if (data.sdp) {\n        let roomId = getRoomId();\n\n        if (peer.current.initiator) {\n          await pushOffer(roomId, sdp, callType);\n          setStopListenAnswer(listenAnswer(roomId, call));\n        } else {\n          await pushAnswer(roomId, sdp);\n        }\n      }\n    });\n\n    peer.current.on('stream', stream => {\n      guestStream.current = stream;\n      setGuestMediaStatus({ video: true, audio: true });\n    });\n\n    peer.current.on('data', data => {\n      let decodedData = new TextDecoder().decode(data);\n      let type = decodedData[0];\n      let corpus = decodedData.substr(2);\n\n      switch (type) {\n        case 'm': // Message\n          addMessage('guest', corpus);\n          break;\n          \n        case 's': // Status\n          let status = JSON.parse(corpus);\n          setGuestMediaStatus(status);\n          break;\n\n        case 'i': // Info\n          //setGuestInfo(JSON.parse(corpus));\n          //break;\n        default:\n          break;\n      };\n    });\n\n    peer.current.on('error', (err) => {\n      console.log('Connection error!');\n\n      console.log(err);\n    });\n\n    peer.current.on('close', () => {\n      console.warn('Connection closed');\n\n      peer.current.destroy();\n\n      if (callType === 'random') {\n        randomCall();\n      } else if (window.location.hash) {\n        waitSignalServerConnection(reconnectCall);\n      }\n    });\n  };\n\n  const isPeerSetted = () => !!peer.current;\n\n  const signalPeer = (sdp) => {\n    peer.current.signal(sdp);\n  };\n\n  const isPeerConnected = () => {\n    return peer.current.connected;\n  };\n\n  const sendToPeer = (data) => {\n    if (isPeerConnected()) peer.current.send(data);\n  };\n\n  const destroyPeer = () => {\n    peer.current.destroy();\n\n    stopListenAnswer();\n  };\n\n  \n  // ╔══════════════════════════════════════════════════════════╗\n  // ║                      Signal Module                       ║\n  // ╚══════════════════════════════════════════════════════════╝\n\n  const callsDB = firestore.collection('calls');\n\n  // This stores a function that is redefined to stop the onSnapshot event for SDP answer.\n  const listenAnswerFinisher = useRef(() => 0);\n\n  const setStopListenAnswer = (finisher) => {\n    listenAnswerFinisher.current = finisher;\n  };\n\n  const stopListenAnswer = () => {\n    listenAnswerFinisher.current();\n\n    listenAnswerFinisher.current = () => 0;\n  };\n\n  const waitSignalServerConnection = async (callback) => {\n    firestore.collection('tests').doc('connection').get().then(doc => {\n      callback();\n    }).catch(err => {\n      waitSignalServerConnection(callback);\n    });\n  };\n  \n  const getSignal = async (id) => {\n    return await callsDB.doc(id).get();\n  };\n  \n  const getStatus = async (id) => {\n    let signal = await getSignal(id);\n    return signal.data() ? signal.data().status : undefined;\n  };\n  \n  const getOffer = async (id) => {\n    let signal = await getSignal(id);\n    return signal.data() ? signal.data().offer : undefined;\n  };\n  \n  const getAnswer = async (id) => {\n    let signal = await getSignal(id);\n    return signal.data() ? signal.data().answer : undefined;\n  };\n  \n  const getRandom = async () => {\n    let calls = await callsDB.where('type', '==', 'random').where('status', '==', 'open');\n    let signal;\n  \n    await calls.get().then(snapshot => {\n      snapshot.forEach(doc => {\n        if (!signal) {\n          signal = doc.data();\n          signal.id = String(doc.id);\n        }\n      });\n    });\n  \n    return signal;\n  };\n  \n  const pushOffer = async (id, offer, type) => {\n    await callsDB.doc(id).set({ \n      type: (type ? type : 'direct'),\n      status: 'open',\n      date: Date.now(),\n      offer: offer,\n      answer: null\n    });\n  };\n  \n  const pushAnswer = async (id, answer) => {\n    await callsDB.doc(id).update({\n      status: 'signaling',\n      answer: answer\n    });\n  };\n  \n  const listenOffer = (id, callback) => {\n    return callsDB.doc(id).onSnapshot(doc => {\n      let data = doc.data();\n  \n      if (data.answer) callback(data.offer);\n    });\n  };\n  \n  const listenAnswer = (id, callback) => {\n    return callsDB.doc(id).onSnapshot(doc => {\n      let data = doc.data();\n  \n      if (data.answer) callback(data.answer);\n    });\n  };\n  \n  const deleteSignal = (id) => {\n    callsDB.doc(id).delete();\n  };\n\n\n  // ╔══════════════════════════════════════════════════════════╗\n  // ║                       Call Module                        ║\n  // ╚══════════════════════════════════════════════════════════╝\n\n  let callType = undefined;\n\n  // Call to other user by his SDP description\n  const call = (sdp) => {\n    if (!isPeerConnected()) {\n      signalPeer(JSON.parse(sdp));\n    }\n  };\n\n  const finishCall = () => {\n    destroyPeer();\n  };\n\n  const reconnectCall = async () => {\n    let offer = await getOffer(getRoomId());\n\n    if (offer) {\n      setPeer(false);\n      signalPeer(JSON.parse(offer));\n    } else {\n      setPeer(true);\n    }\n  };\n\n  const randomCall = async () => {\n    let randomSignal = await getRandom();\n\n    if (randomSignal) {\n      setRoomId(randomSignal.id);\n\n      await getLocalStream(setPeer, false);\n\n      signalPeer(JSON.parse(randomSignal.offer));\n    } else {\n      startRoom('random');\n    }\n  };\n\n  const startRoom = (type, id = generateId()) => {\n    callType = type;\n\n    setRoomId(id);\n\n    getLocalStream(setPeer, true);\n  };\n\n  const joinRoom = async (id) => {\n    setRoomId(id);\n\n    await getLocalStream(setPeer, false);\n    \n    getOffer(id).then(offer => call(offer));\n  };\n\n\n  // ╔══════════════════════════════════════════════════════════╗\n  // ║                   Call Messages Module                   ║\n  // ╚══════════════════════════════════════════════════════════╝\n\n  const [Messages, setMessages] = useState([]);\n\n  const addMessage = (user, message) => {\n    setMessages(prevMessages => [...prevMessages, {\n      user: user,\n      text: message\n    }]);\n  };\n\n  const sendMessage = (message) => {\n    sendToPeer('m=' + message);\n    \n    addMessage('me', message);\n  };\n\n\n  // ╔══════════════════════════════════════════════════════════╗\n  // ║                       Media Module                       ║\n  // ╚══════════════════════════════════════════════════════════╝\n\n  const localStream = useRef(null);\n  const guestStream = useRef(null);\n  const [localMediaStatus, setLocalMediaStatus] = useState({video: false, audio: false });\n  const [guestMediaStatus, setGuestMediaStatus] = useState({ video: false, audio: false });\n  \n  const getLocalStream = async (callback, callbackParam) => {\n    return navigator.mediaDevices.getUserMedia({\n      video: true,\n      audio: true\n    }).then(stream => {\n      localStream.current = stream;\n      setLocalMediaStatus({ video: true, audio: true });\n\n      callback(callbackParam);\n    }).catch(err => console.log(err));\n  };\n\n  const stopLocalStream = () => {\n    localStream.current.getTracks().forEach(track => track.stop());\n\n    //setLocalMediaStatus({ video: false, audio: false });\n  };\n\n  // Send a message to the other user\n  // to update his guest's status\n  const sendStatus = (status) => {\n    let data = 's=' + JSON.stringify(status);\n    sendToPeer(data);\n  };\n  \n  \n  const enableLocalVideo = () => {\n    localStream.current.getVideoTracks()[0].enabled = true;\n\n    setLocalMediaStatus(prevStatus => {\n      let newStatus = { ...prevStatus, video: true };\n      sendStatus(newStatus);\n      return newStatus;\n    })\n  };\n  \n  const enableLocalAudio = () => {\n    localStream.current.getAudioTracks()[0].enabled = true;\n\n    setLocalMediaStatus(prevStatus => {\n      let newStatus = { ...prevStatus, audio: true };\n      sendStatus(newStatus);\n      return newStatus;\n    })\n  };\n  \n  \n  const disableLocalVideo = () => {\n    localStream.current.getVideoTracks()[0].enabled = false;\n\n    setLocalMediaStatus(prevStatus => {\n      let newStatus = { ...prevStatus, video: false };\n      sendStatus(newStatus);\n      return newStatus;\n    })\n  };\n  \n  const disableLocalAudio = () => {\n    localStream.current.getAudioTracks()[0].enabled = false;\n    \n    setLocalMediaStatus(prevStatus => {\n      let newStatus = { ...prevStatus, audio: false };\n      sendStatus(newStatus);\n      return newStatus;\n    })\n  };\n\n\n  return (\n    <AppContext.Provider value={{\n      isPeerSetted, // Peer Module\n      destroyPeer,\n      callType, // Call Module's Start\n      call,\n      finishCall,\n      reconnectCall,\n      randomCall,\n      startRoom,\n      joinRoom, // Call Module's End\n      Messages, // Call Messages Module's Start\n      sendMessage, // Call Messages Module's End\n      getLocalStream, // Media Module's Start\n      stopLocalStream,\n      localStream,\n      guestStream,\n      localMediaStatus,\n      guestMediaStatus,\n      enableLocalVideo,\n      enableLocalAudio,\n      disableLocalVideo,\n      disableLocalAudio // Media Module's End\n    }}>\n      { children }\n    </AppContext.Provider>\n  );\n\n\n};\n\nexport { AppContext, AppContextProvider };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"clipPath\", {\n  id: \"_clipPath_dzK3KjlneBoo16SCZh3jKRtG3Ry2WanL\"\n}, /*#__PURE__*/React.createElement(\"rect\", {\n  x: 868.32,\n  y: 317,\n  width: 617.539,\n  height: 654.322\n})));\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"g\", {\n  clipPath: \"url(#_clipPath_dzK3KjlneBoo16SCZh3jKRtG3Ry2WanL)\"\n}, /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n  d: \" M 1383.257 517.076 C 1354.019 495.219 1308.225 474.547 1257.617 460.363 C 1211.539 447.447 1166.596 441.212 1131.057 442.804 L 1130.872 438.671 C 1166.834 437.061 1212.244 443.348 1258.734 456.379 C 1309.813 470.696 1356.103 491.612 1385.734 513.763 L 1383.257 517.076 Z \",\n  fill: \"rgb(204,204,204)\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \" M 1380.221 533.913 C 1380.247 553.278 1376.187 572.432 1368.307 590.121 Q 1367.32 592.343 1366.251 594.523 C 1338.026 652.333 1273.644 683.021 1210.962 668.541 C 1148.281 654.061 1103.882 598.245 1103.872 533.913 Q 1103.872 529.116 1104.199 524.393 Q 1104.354 521.992 1104.6 519.619 C 1112.21 446.483 1175.763 392.115 1249.196 395.924 C 1322.629 399.732 1380.218 460.381 1380.221 533.913 L 1380.221 533.913 Z \",\n  fill: \"rgb(0,153,0)\"\n}), /*#__PURE__*/React.createElement(\"g\", {\n  opacity: 0.1\n}, /*#__PURE__*/React.createElement(\"path\", {\n  d: \" M 1368.307 590.121 Q 1367.32 592.343 1366.251 594.523 Q 1360.194 595.181 1353.501 595.479 C 1349.806 595.644 1346.004 595.727 1342.12 595.727 C 1308.189 595.727 1267.353 589.464 1225.635 577.773 C 1179.144 564.741 1137.084 546.514 1107.198 526.445 Q 1105.672 525.421 1104.199 524.393 Q 1104.354 521.992 1104.6 519.619 Q 1106.977 521.313 1109.503 523.012 C 1139.036 542.84 1180.675 560.873 1226.752 573.789 C 1268.105 585.381 1308.557 591.59 1342.099 591.59 Q 1347.852 591.59 1353.315 591.346 Q 1361.27 590.986 1368.307 590.121 Z \",\n  fill: \"rgb(0,0,0)\"\n})), /*#__PURE__*/React.createElement(\"path\", {\n  d: \" M 1342.12 592.418 C 1308.19 592.419 1267.352 586.155 1225.636 574.463 C 1179.146 561.432 1137.083 543.204 1107.198 523.136 C 1076.688 502.65 1062.382 482.463 1066.914 466.295 C 1071.445 450.127 1094.159 440.316 1130.872 438.671 L 1131.057 442.804 C 1113.913 443.572 1099.941 446.121 1089.529 450.378 C 1079.143 454.625 1072.874 460.356 1070.897 467.412 C 1068.919 474.467 1071.296 482.621 1077.962 491.648 C 1084.644 500.696 1095.256 510.135 1109.504 519.702 C 1139.034 539.531 1180.674 557.564 1226.753 570.479 C 1268.107 582.07 1308.555 588.281 1342.1 588.282 Q 1347.849 588.282 1353.313 588.038 C 1370.458 587.269 1384.43 584.721 1394.841 580.464 C 1405.227 576.217 1411.496 570.486 1413.474 563.43 C 1417.024 550.761 1406.293 534.299 1383.257 517.076 L 1385.734 513.763 C 1397.588 522.626 1406.364 531.362 1411.816 539.728 C 1417.661 548.697 1419.559 557.048 1417.457 564.547 C 1412.925 580.715 1390.211 590.525 1353.499 592.171 C 1349.804 592.336 1346.005 592.418 1342.12 592.418 Z \",\n  fill: \"rgb(204,204,204)\"\n}), /*#__PURE__*/React.createElement(\"circle\", {\n  vectorEffect: \"non-scaling-stroke\",\n  cx: 1245.7020099999975,\n  cy: 369.234829999999,\n  r: 1.5833500000001095,\n  fill: \"rgb(242,242,242)\"\n}), /*#__PURE__*/React.createElement(\"circle\", {\n  vectorEffect: \"non-scaling-stroke\",\n  cx: 1035.64502,\n  cy: 436.80077999999986,\n  r: 2.723899999999958,\n  fill: \"rgb(204,204,204)\"\n}), /*#__PURE__*/React.createElement(\"circle\", {\n  vectorEffect: \"non-scaling-stroke\",\n  cx: 1029.83942,\n  cy: 543.4126199999997,\n  r: 5.38101000000006,\n  fill: \"rgb(204,204,204)\"\n}), /*#__PURE__*/React.createElement(\"circle\", {\n  vectorEffect: \"non-scaling-stroke\",\n  cx: 1352.84163,\n  cy: 378.73489,\n  r: 3.586309999999912,\n  fill: \"rgb(204,204,204)\"\n}), /*#__PURE__*/React.createElement(\"circle\", {\n  vectorEffect: \"non-scaling-stroke\",\n  cx: 1480.03694,\n  cy: 527.57918,\n  r: 5.822779999999966,\n  fill: \"rgb(204,204,204)\"\n}), /*#__PURE__*/React.createElement(\"circle\", {\n  vectorEffect: \"non-scaling-stroke\",\n  cx: 1434.5056799999968,\n  cy: 434.57998999999916,\n  r: 2.498239999999896,\n  fill: \"rgb(204,204,204)\"\n}), /*#__PURE__*/React.createElement(\"circle\", {\n  vectorEffect: \"non-scaling-stroke\",\n  cx: 1131.1734600000004,\n  cy: 402.4850600000002,\n  r: 3.897330000000011,\n  fill: \"rgb(204,204,204)\"\n}), /*#__PURE__*/React.createElement(\"circle\", {\n  vectorEffect: \"non-scaling-stroke\",\n  cx: 1425.7618499999974,\n  cy: 515.7723899999994,\n  r: 2.498239999999896,\n  fill: \"rgb(204,204,204)\"\n}), /*#__PURE__*/React.createElement(\"circle\", {\n  vectorEffect: \"non-scaling-stroke\",\n  cx: 1042.5061799999999,\n  cy: 619.4131600000001,\n  r: 3.109390000000076,\n  fill: \"rgb(204,204,204)\"\n}), /*#__PURE__*/React.createElement(\"circle\", {\n  vectorEffect: \"non-scaling-stroke\",\n  cx: 1105.31216,\n  cy: 662.69122,\n  r: 3.3672899999999117,\n  fill: \"rgb(204,204,204)\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \" M 1203.2 323.645 L 1196.555 323.645 L 1196.555 317 L 1192.99 317 L 1192.99 323.645 L 1186.342 323.645 L 1186.342 327.213 L 1192.99 327.213 L 1192.99 333.858 L 1196.555 333.858 L 1196.555 327.213 L 1203.2 327.213 L 1203.2 323.645 L 1203.2 323.645 Z \",\n  fill: \"rgb(204,204,204)\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \" M 1357.342 683.201 L 1353.168 683.201 L 1353.168 679.029 L 1350.93 679.029 L 1350.93 683.201 L 1346.758 683.201 L 1346.758 685.44 L 1350.93 685.44 L 1350.93 689.612 L 1353.168 689.612 L 1353.168 685.44 L 1357.342 685.44 L 1357.342 683.201 L 1357.342 683.201 Z \",\n  fill: \"rgb(204,204,204)\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \" M 1453.646 661.844 L 1450.527 661.844 L 1450.527 658.725 L 1448.852 658.725 L 1448.852 661.844 L 1445.733 661.844 L 1445.733 663.519 L 1448.852 663.519 L 1448.852 666.638 L 1450.527 666.638 L 1450.527 663.519 L 1453.646 663.519 L 1453.646 661.844 L 1453.646 661.844 Z \",\n  fill: \"rgb(204,204,204)\"\n}), /*#__PURE__*/React.createElement(\"g\", {\n  opacity: 0.1\n}, /*#__PURE__*/React.createElement(\"circle\", {\n  vectorEffect: \"non-scaling-stroke\",\n  cx: 1244.1187,\n  cy: 425.71736999999956,\n  r: 11.611190000000079,\n  fill: \"rgb(0,0,0)\"\n})), /*#__PURE__*/React.createElement(\"g\", {\n  opacity: 0.1\n}, /*#__PURE__*/React.createElement(\"circle\", {\n  vectorEffect: \"non-scaling-stroke\",\n  cx: 1154.92363,\n  cy: 510.6901699999999,\n  r: 11.611190000000079,\n  fill: \"rgb(0,0,0)\"\n})), /*#__PURE__*/React.createElement(\"g\", {\n  opacity: 0.1\n}, /*#__PURE__*/React.createElement(\"circle\", {\n  vectorEffect: \"non-scaling-stroke\",\n  cx: 1283.17451,\n  cy: 627.32987,\n  r: 11.611190000000079,\n  fill: \"rgb(0,0,0)\"\n})), /*#__PURE__*/React.createElement(\"g\", {\n  opacity: 0.1\n}, /*#__PURE__*/React.createElement(\"circle\", {\n  vectorEffect: \"non-scaling-stroke\",\n  cx: 1244.1187,\n  cy: 528.6347499999999,\n  r: 11.611190000000079,\n  fill: \"rgb(0,0,0)\"\n})), /*#__PURE__*/React.createElement(\"g\", {\n  opacity: 0.1\n}, /*#__PURE__*/React.createElement(\"circle\", {\n  vectorEffect: \"non-scaling-stroke\",\n  cx: 1160.72921,\n  cy: 592.49629,\n  r: 11.611190000000079,\n  fill: \"rgb(0,0,0)\"\n})), /*#__PURE__*/React.createElement(\"g\", {\n  opacity: 0.1\n}, /*#__PURE__*/React.createElement(\"circle\", {\n  vectorEffect: \"non-scaling-stroke\",\n  cx: 1306.3969,\n  cy: 466.3565399999995,\n  r: 11.611190000000079,\n  fill: \"rgb(0,0,0)\"\n})), /*#__PURE__*/React.createElement(\"g\", {\n  opacity: 0.1\n}, /*#__PURE__*/React.createElement(\"circle\", {\n  vectorEffect: \"non-scaling-stroke\",\n  cx: 1344.92492,\n  cy: 544.9959699999999,\n  r: 11.611190000000079,\n  fill: \"rgb(0,0,0)\"\n})), /*#__PURE__*/React.createElement(\"circle\", {\n  vectorEffect: \"non-scaling-stroke\",\n  cx: 1244.1187,\n  cy: 477.96774000000016,\n  r: 15.305669999999964,\n  fill: \"rgb(255,255,255)\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \" M 1244.119 455.801 C 1238.38 455.801 1232.876 458.081 1228.818 462.139 C 1224.76 466.197 1222.48 471.701 1222.48 477.44 C 1222.48 489.391 1244.119 528.635 1244.119 528.635 C 1244.119 528.635 1265.758 489.391 1265.758 477.44 C 1265.758 471.701 1263.478 466.197 1259.42 462.139 C 1255.362 458.081 1249.858 455.801 1244.119 455.801 L 1244.119 455.801 Z  M 1244.119 487.996 C 1238.58 487.996 1234.091 483.506 1234.091 477.968 C 1234.091 472.429 1238.58 467.94 1244.119 467.94 C 1249.657 467.94 1254.147 472.429 1254.147 477.968 C 1254.147 480.627 1253.09 483.178 1251.21 485.058 C 1249.329 486.939 1246.778 487.996 1244.119 487.996 L 1244.119 487.996 Z \",\n  fill: \"rgb(204,204,204)\"\n}), /*#__PURE__*/React.createElement(\"circle\", {\n  vectorEffect: \"non-scaling-stroke\",\n  cx: 1160.7292099999997,\n  cy: 543.4126200000001,\n  r: 15.305650000000014,\n  fill: \"rgb(255,255,255)\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \" M 1160.729 521.246 C 1154.99 521.246 1149.486 523.526 1145.428 527.584 C 1141.37 531.642 1139.09 537.146 1139.09 542.885 C 1139.09 554.836 1160.729 594.08 1160.729 594.08 C 1160.729 594.08 1182.368 554.836 1182.368 542.885 C 1182.368 537.146 1180.088 531.642 1176.03 527.584 C 1171.972 523.526 1166.468 521.246 1160.729 521.246 L 1160.729 521.246 Z  M 1160.729 553.44 C 1155.191 553.44 1150.701 548.951 1150.701 543.413 C 1150.701 537.874 1155.191 533.385 1160.729 533.385 C 1166.268 533.385 1170.757 537.874 1170.757 543.413 C 1170.757 546.072 1169.701 548.623 1167.82 550.503 C 1165.939 552.384 1163.389 553.44 1160.729 553.44 L 1160.729 553.44 Z \",\n  fill: \"rgb(204,204,204)\"\n}), /*#__PURE__*/React.createElement(\"circle\", {\n  vectorEffect: \"non-scaling-stroke\",\n  cx: 1344.92492,\n  cy: 495.9123000000002,\n  r: 15.305669999999964,\n  fill: \"rgb(255,255,255)\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \" M 1344.925 473.745 C 1339.186 473.745 1333.682 476.025 1329.624 480.083 C 1325.566 484.142 1323.286 489.646 1323.286 495.385 C 1323.286 507.335 1344.925 546.579 1344.925 546.579 C 1344.925 546.579 1366.564 507.335 1366.564 495.385 C 1366.564 489.646 1364.284 484.142 1360.226 480.083 C 1356.168 476.025 1350.664 473.745 1344.925 473.745 L 1344.925 473.745 Z  M 1344.925 505.94 C 1339.387 505.94 1334.897 501.45 1334.897 495.912 C 1334.897 490.374 1339.387 485.884 1344.925 485.884 C 1350.463 485.884 1354.953 490.374 1354.953 495.912 C 1354.953 498.572 1353.896 501.122 1352.016 503.003 C 1350.135 504.884 1347.585 505.94 1344.925 505.94 L 1344.925 505.94 Z \",\n  fill: \"rgb(204,204,204)\"\n}), /*#__PURE__*/React.createElement(\"circle\", {\n  vectorEffect: \"non-scaling-stroke\",\n  cx: 1244.1187,\n  cy: 375.0503500000001,\n  r: 15.305669999999964,\n  fill: \"rgb(255,255,255)\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \" M 1244.119 352.884 C 1232.168 352.884 1222.48 362.572 1222.48 374.523 C 1222.48 386.473 1244.119 425.717 1244.119 425.717 C 1244.119 425.717 1265.758 386.473 1265.758 374.523 C 1265.758 368.784 1263.478 363.28 1259.42 359.221 C 1255.362 355.163 1249.858 352.884 1244.119 352.884 L 1244.119 352.884 Z  M 1244.119 385.078 C 1238.58 385.078 1234.091 380.589 1234.091 375.05 C 1234.091 369.512 1238.58 365.022 1244.119 365.022 C 1249.657 365.022 1254.147 369.512 1254.147 375.05 C 1254.147 377.71 1253.09 380.261 1251.21 382.141 C 1249.329 384.022 1246.778 385.078 1244.119 385.078 L 1244.119 385.078 Z \",\n  fill: \"rgb(204,204,204)\"\n}), /*#__PURE__*/React.createElement(\"circle\", {\n  vectorEffect: \"non-scaling-stroke\",\n  cx: 1283.1745100000003,\n  cy: 578.2462000000002,\n  r: 15.305669999999964,\n  fill: \"rgb(255,255,255)\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \" M 1283.174 556.079 C 1277.435 556.079 1271.932 558.359 1267.873 562.417 C 1263.815 566.475 1261.536 571.979 1261.536 577.718 C 1261.536 589.669 1283.174 628.913 1283.174 628.913 C 1283.174 628.913 1304.814 589.669 1304.814 577.718 C 1304.814 571.979 1302.534 566.475 1298.476 562.417 C 1294.417 558.359 1288.914 556.079 1283.174 556.079 Z  M 1283.174 588.274 C 1277.636 588.274 1273.147 583.784 1273.147 578.246 C 1273.147 572.708 1277.636 568.218 1283.175 568.218 C 1288.713 568.218 1293.202 572.708 1293.202 578.246 C 1293.202 580.906 1292.146 583.456 1290.265 585.337 C 1288.385 587.218 1285.834 588.274 1283.174 588.274 L 1283.174 588.274 Z \",\n  fill: \"rgb(60,47,206)\"\n}), /*#__PURE__*/React.createElement(\"circle\", {\n  vectorEffect: \"non-scaling-stroke\",\n  cx: 1154.9236300000005,\n  cy: 460.5509400000001,\n  r: 15.305669999999964,\n  fill: \"rgb(255,255,255)\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \" M 1154.924 438.384 C 1149.185 438.384 1143.681 440.664 1139.623 444.722 C 1135.564 448.78 1133.285 454.284 1133.285 460.023 C 1133.285 471.974 1154.924 511.218 1154.924 511.218 C 1154.924 511.218 1176.563 471.974 1176.563 460.023 C 1176.563 454.284 1174.283 448.78 1170.225 444.722 C 1166.167 440.664 1160.663 438.384 1154.924 438.384 L 1154.924 438.384 Z  M 1154.924 470.579 C 1149.385 470.579 1144.896 466.089 1144.896 460.551 C 1144.896 455.013 1149.385 450.523 1154.924 450.523 C 1160.462 450.523 1164.952 455.013 1164.952 460.551 C 1164.952 463.21 1163.895 465.761 1162.014 467.642 C 1160.134 469.522 1157.583 470.579 1154.924 470.579 L 1154.924 470.579 Z \",\n  fill: \"rgb(60,47,206)\"\n}), /*#__PURE__*/React.createElement(\"circle\", {\n  vectorEffect: \"non-scaling-stroke\",\n  cx: 1306.3969000000004,\n  cy: 417.80065000000013,\n  r: 15.305669999999964,\n  fill: \"rgb(255,255,255)\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \" M 1306.397 395.634 C 1300.658 395.634 1295.154 397.914 1291.096 401.972 C 1287.038 406.03 1284.758 411.534 1284.758 417.273 C 1284.758 429.224 1306.397 468.468 1306.397 468.468 C 1306.397 468.468 1328.036 429.224 1328.036 417.273 C 1328.036 405.322 1318.348 395.634 1306.397 395.634 L 1306.397 395.634 Z  M 1306.397 427.829 C 1300.859 427.829 1296.369 423.339 1296.369 417.801 C 1296.369 412.262 1300.859 407.773 1306.397 407.773 C 1311.935 407.773 1316.425 412.262 1316.425 417.801 C 1316.425 423.339 1311.935 427.829 1306.397 427.829 L 1306.397 427.829 L 1306.397 427.829 Z \",\n  fill: \"rgb(60,47,206)\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \" M 1040.862 959.715 L 1053.044 958.332 L 1053.509 910.688 L 1035.53 912.729 L 1040.862 959.715 L 1040.862 959.715 Z \",\n  fill: \"rgb(255,184,184)\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \" M 1077.82 966.978 L 1039.535 971.322 L 1037.857 956.53 L 1061.35 953.865 C 1069.519 952.938 1076.893 958.809 1077.82 966.978 L 1077.82 966.978 L 1077.82 966.978 Z \",\n  fill: \"rgb(81,79,125)\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \" M 915.582 958.954 L 927.842 958.953 L 933.674 911.665 L 915.58 911.666 L 915.582 958.954 L 915.582 958.954 Z \",\n  fill: \"rgb(255,184,184)\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \" M 951.486 970.336 L 912.956 970.338 L 912.955 955.451 L 936.599 955.45 C 944.821 955.45 951.486 962.115 951.486 970.336 L 951.486 970.336 L 951.486 970.336 Z \",\n  fill: \"rgb(81,79,125)\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \" M 1003.544 747.486 L 1010.544 770.255 L 1048.544 852.486 L 1058.544 930.486 L 1035.544 931.486 L 1021.544 859.486 L 973.544 807.486 L 931.544 943.486 L 912.544 941.486 C 912.544 941.486 928.544 765.486 950.544 747.486 C 950.544 747.486 986.544 730.486 1003.544 747.486 Z \",\n  fill: \"rgb(60,47,206)\"\n}), /*#__PURE__*/React.createElement(\"circle\", {\n  vectorEffect: \"non-scaling-stroke\",\n  cx: 972.4923699999996,\n  cy: 624.6788999999997,\n  r: 24.56102999999996,\n  fill: \"rgb(255,184,184)\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \" M 1006.044 751.986 C 1006.044 751.986 1009.044 649.986 967.044 656.986 C 967.044 656.986 942.544 762.486 942.544 762.486 C 942.544 762.486 951.544 780.486 973.544 760.486 C 995.544 740.486 1006.044 751.986 1006.044 751.986 Z \",\n  fill: \"rgb(204,204,204)\"\n}), /*#__PURE__*/React.createElement(\"g\", {\n  opacity: 0.2\n}, /*#__PURE__*/React.createElement(\"path\", {\n  d: \" M 948.044 699.986 L 957.927 737.869 L 972.984 752.927 L 952.044 745.986 L 948.044 699.986 L 948.044 699.986 Z \",\n  fill: \"rgb(0,0,0)\"\n})), /*#__PURE__*/React.createElement(\"path\", {\n  d: \" M 1006.354 795.124 C 1003.556 794.11 1001.351 791.908 1000.333 789.112 C 999.314 786.316 999.587 783.212 1001.077 780.636 L 977.718 753.593 L 996.132 751.196 L 1015.491 777.244 C 1019.746 780.097 1021.195 785.681 1018.864 790.243 C 1016.533 794.804 1011.159 796.902 1006.354 795.124 L 1006.354 795.124 Z \",\n  fill: \"rgb(255,184,184)\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \" M 977.914 677.762 L 980.544 729.486 L 1011.544 769.486 L 998.544 779.486 L 956.544 737.486 C 956.544 737.486 941.544 686.486 952.544 671.486 C 956.669 665.861 961.215 664.314 965.288 664.578 C 972.221 665.155 977.636 670.81 977.914 677.762 Z \",\n  fill: \"rgb(204,204,204)\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \" M 969.571 650.486 C 969.809 650.273 969.933 649.96 969.904 649.642 C 969.876 649.324 969.7 649.038 969.428 648.87 C 964.985 646.118 962.4 641.16 962.687 635.942 C 962.973 630.725 966.087 626.08 970.804 623.832 C 978.025 620.389 987.81 623.068 993.148 616.452 C 995.345 613.587 996.186 609.909 995.451 606.375 C 994.299 600.126 989.602 595.485 984.341 592.305 C 971.157 584.335 954.589 584.551 941.617 592.861 C 928.645 601.171 921.523 616.131 923.252 631.439 C 923.931 637.453 925.786 644.197 922.21 649.08 C 919.063 653.377 913.122 654.183 907.904 655.251 C 896.71 657.541 885.912 662.825 878.316 671.359 C 870.72 679.894 866.668 691.868 868.958 703.061 C 871.248 714.254 880.436 724.091 891.729 725.826 C 900.92 727.238 910.411 723.334 917.161 716.938 C 923.911 710.541 928.178 701.902 930.869 693.001 C 934.063 682.435 935.323 671.05 941.09 661.639 C 946.733 652.429 958.894 645.827 968.425 650.623 C 968.798 650.819 969.254 650.764 969.571 650.486 L 969.571 650.486 Z \",\n  fill: \"rgb(47,46,65)\"\n})));\n\nfunction SvgHomeIllustration(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    style: {\n      isolation: \"isolate\"\n    },\n    viewBox: \"868.32 317 617.539 654.322\",\n    width: \"617.539pt\",\n    height: \"654.322pt\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgHomeIllustration);\nexport default __webpack_public_path__ + \"static/media/home-illustration.8bf82fca.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react'\n//CSS\nimport './BalloonButton.css'\n\nconst BalloonButton = ({ side, text, classNames, onClick }) => {\n    return (\n        <button onClick={onClick} className={ `balloon ${side} ${classNames}` }>\n            { text }\n        </button>\n    )\n}\n\nexport default BalloonButton;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"clipPath\", {\n  id: \"_clipPath_3FwogJFQFNHbhTH9dswBJvtWuudi61mY\"\n}, /*#__PURE__*/React.createElement(\"rect\", {\n  x: 835,\n  y: 409,\n  width: 481,\n  height: 481\n})));\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"circle\", {\n  vectorEffect: \"non-scaling-stroke\",\n  cx: 1075.5000000000005,\n  cy: 649.4999999999999,\n  r: 240.50000000000023,\n  fill: \"rgb(0,153,0)\"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \" M 1201.859 711.025 L 1162 688.012 L 1122.141 665 C 1107.802 656.721 1107.802 643.279 1122.141 635 L 1162 611.988 L 1201.859 588.975 C 1216.198 580.696 1227.84 587.418 1227.84 603.975 L 1227.84 650 L 1227.84 696.025 C 1227.84 712.582 1216.198 719.304 1201.859 711.025 Z \",\n  fill: \"rgb(255,255,255)\"\n});\n\nvar _ref5 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \" M 1052.999 584.931 L 1034.641 631.493 L 983.511 634.187 L 1023.258 665.766 L 1010.106 714.069 L 1052.999 686.911 L 1095.891 714.069 L 1082.739 665.766 L 1122.489 634.187 L 1071.359 631.493 L 1052.999 584.931 Z \",\n  fill: \"rgb(0,153,0)\"\n});\n\nfunction SvgLogo(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    style: {\n      isolation: \"isolate\"\n    },\n    viewBox: \"835 409 481 481\",\n    width: \"481pt\",\n    height: \"481pt\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, /*#__PURE__*/React.createElement(\"g\", {\n    clipPath: \"url(#_clipPath_3FwogJFQFNHbhTH9dswBJvtWuudi61mY)\"\n  }, _ref3, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M 974 556 L 1132 556 C 1148.557 556 1162 569.443 1162 586 L 1162 714 C 1162 730.557 1148.557 744 1132 744 L 974 744 C 957.443 744 944 730.557 944 714 L 944 586 C 944 569.443 957.443 556 974 556 Z\",\n    style: {\n      stroke: \"none\",\n      fill: \"#FFFFFF\",\n      strokeMiterlimit: 10\n    }\n  }), _ref4, _ref5));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgLogo);\nexport default __webpack_public_path__ + \"static/media/logo.c9aed868.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react';\nimport { ReactComponent as Isotype } from '../../assets/logo.svg';\n\nimport '../../index.css';\nimport './Logo.css';\n\nfunction Logo({ textColor }) {\n  return (\n    <div className={ textColor === 'black' ? 'text-black' : 'text-white' }>\n      <Isotype className=\"inline-block w-10 h-10 mr-3\" />\n      <span className=\"inline-block text-4xl tracking-wide align-middle alata-font\">videovoko</span>\n    </div>\n  );\n}\n\nexport default Logo;","import React from 'react';\nimport Logo from '../logo/Logo';\nimport { Link } from \"react-router-dom\";\nimport BalloonButton from '../balloon-button/BalloonButton';\n\nimport './NavBar.css';\nimport '../../index.css';\n\nfunction NavBar({ classNames }) {\n  return (\n    <div className={`flex justify-between py-3 ${classNames || ''}`}>\n      <div className=\"flex space-x-10\">\n        <Link to=\"/\">\n          <Logo textColor=\"white\" />\n        </Link>\n\n        <Link to=\"/call\" \n          className=\"hidden mt-auto text-2xl align-bottom text-gray-light hover:text-secondary\" href=\"#\">\n          About\n        </Link>\n\n        <a\n          href=\"https://github.com/videovoko/videovoko-org/\"\n          className=\"mt-auto text-2xl text-gray-light hover:text-secondary\"\n          target=\"_blank\" rel=\"noopener noreferrer\"\n        >\n          Donate\n        </a>\n        \n        <a\n          href=\"https://github.com/videovoko/videovoko-org/\"\n          className=\"mt-auto text-2xl text-gray-light hover:text-secondary\" href=\"https://github.com/videovoko/videovoko-org\"\n          target=\"_blank\" rel=\"noopener noreferrer\"\n        >\n          GitHub\n        </a>\n      </div>\n\n      <div className=\"hidden space-x-5\">\n        <BalloonButton classNames=\"bg-trasparent text-white font-semibold roboto-font text-sm border-4 border-gray h-10 py-1\"\n          side=\"left\" text=\"Sign In\" />\n        <BalloonButton classNames=\"bg-secondary text-white font-semibold roboto-font text-sm border-secondary h-10 py-1\"\n          side=\"right\" text=\"Sign Up\" />\n      </div>\n    </div>\n  );\n}\n\nexport default NavBar;","import React, { useState } from 'react';\n\nimport '../../index.css';\nimport './Modal.css';\n\nfunction Modal({ id, title, ref, children }) {\n  const [visibility, setVisibility] = useState(false);\n\n  const handleVisibility = (e) => {\n    if (e.target.id === id) {\n      setVisibility(prevVisibility => !prevVisibility);\n    }\n  };\n\n  const hideModal = () => {\n    setVisibility(false);\n  };\n  \n  return (\n    <div\n    id={id}\n    ref={ref}\n    onClick={handleVisibility}\n    className={`${!visibility ? 'hidden' : ''} fixed inset-0 inset-x-0 z-50 flex items-center w-full h-full bg-black bg-opacity-50`}\n    >\n\n      <div className=\"w-1/3 mx-auto text-white rounded-lg bg-dark-tertiary\">\n        <div className=\"flex justify-between px-5 py-3 mb-5 text-2xl\">\n          { title }\n\n          <button onClick={hideModal} className=\"focus:outline-none\">\n            <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"w-6 h-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n            </svg>\n          </button>\n        </div>\n\n        <div className=\"h-full\">\n          { children }\n        </div>\n      </div>\n\n    </div>\n  );\n};\n\nexport default Modal;","import React from 'react';\n\nconst Input = ({ type, value, classNames, placeholder, onChange, onKeyDown, maxLength }) => {\n  return(\n    <input\n      type={ type }\n      className={`${classNames || ''} h-10 px-4 py-1 mr-2 overflow-auto border-2 border-solid rounded-lg resize-none border-gray bg-dark-secondary focus:outline-none`}\n      value={ value }\n      onChange={ onChange }\n      onKeyDown={ onKeyDown }\n      placeholder={ placeholder }\n      maxlength={ maxLength }\n    ></input>\n  );\n};\n\nexport default Input;","import React from 'react';\n\nimport '../../index.css';\nimport './Button.css';\n\nfunction Button({ type, onClick, classNames, children, disabled }) {\n  return (\n    <button\n      type={type}\n      onClick={onClick}\n      className={`inline-flex items-center px-2 py-1 rounded-lg focus:outline-none disabled:opacity-50 ${classNames || ''}`}\n      disabled={ disabled }\n      >\n      { children }\n    </button>\n  );\n}\n\nexport default Button;","import React, { useContext, useState } from 'react';\n\nimport { AppContext } from '../../contexts/AppContext/AppContext';\n\nimport Modal from './Modal';\nimport Input from '../input/Input';\nimport Button from '../button/Button';\n\nconst RoomModal = ({ id, title }) => {\n  const [roomId, setRoomId] = useState();\n  const isValidId = !/^[a-z]{4}-[a-z]{4}$/.test(roomId);\n\n  const { startRoom, joinRoom } = useContext(AppContext);\n\n\n  const _startRoom = () => {\n    startRoom('direct');\n  };\n\n  const _joinRoom = () => {\n    joinRoom(roomId);\n  };\n\n  const handleInputChange = (e) => {\n    let value = e.target.value;\n\n    value = value.length === 4 && value.length > roomId.length ? `${value}-` : value;\n\n    setRoomId(value);\n  };\n\n\n  return (\n    <Modal id={ id } title={ title }>\n      <div className=\"flex flex-col px-5 pb-5\">\n        <div classNames=\"text-center\">\n          <Button\n            onClick={ _startRoom }\n            classNames='h-10 px-20 text-xl bg-primary hover:bg-primary-dark'\n          >\n            Start Room\n          </Button>\n        </div>\n\n        <span className=\"py-6\">Or join with ID:</span>\n\n        <div className=\"space-x-1\">\n          <Input\n            classNames=\"w-36 pl-5 text-xl focus:border-primary\"\n            type=\"text\"\n            maxLength=\"9\"\n            placeholder=\"aaaa-bbbb\"\n            value={ roomId }\n            onChange={ handleInputChange }\n          />\n\n          <Button\n            onClick={ _joinRoom }\n            classNames='w-auto h-10 text-xl bg-secondary hover:bg-secondary-dark'\n            disabled={ isValidId }\n          >\n            Join Room\n          </Button>\n        </div>\n      </div>\n    </Modal>\n  );\n};\n\nexport default RoomModal;\n","import React, { useContext } from 'react';\n\nimport { AppContext } from '../../contexts/AppContext/AppContext';\n\nimport { ReactComponent as HomeIllustration } from '../../assets/home-illustration.svg';\n\nimport BalloonButton from '../../components/balloon-button/BalloonButton';\nimport NavBar from '../../components/nav-bar/NavBar';\nimport RoomModal from '../../components/modals/RoomModal';\n\nfunction Home() {\n  const {\n    isPeerSetted,\n    destroyPeer,\n    randomCall,\n    stopLocalStream\n  } = useContext(AppContext);\n\n  const openRoomModal = () => {\n    document.getElementById('roomModal').click();\n  };\n\n  const _randomCall = () => {\n    randomCall();\n  }\n\n\n  if (isPeerSetted()) {\n    destroyPeer();\n    stopLocalStream();\n  }\n\n  \n  return (\n    <div className=\"flex flex-col w-full h-screen px-20 bg-dark\">\n      <NavBar classNames=\"\" />\n\n      <div className=\"grid justify-center h-full grid-cols-2\">\n\n        {/* Text and call to action*/}\n        <div className=\"flex flex-col content-center w-full h-auto col-span-1\">\n          \n          <div className=\"flex flex-col justify-center w-full h-full\">\n            <h1 className=\"mb-3 text-5xl font-bold leading-snug text-left text-white roboto-font\">Speak Esperanto With\n              Someone Around The World<font className=\"text-primary\">.</font>\n            </h1>\n            \n            <p className=\"w-9/12 text-2xl leading-normal text-left mb-7 text-gray-light roboto-font\">Be part of the hub of\n              Esperanto speakers and promote this beautiful language.\n            </p>\n\n            <div className=\"flex justify-start space-x-5\">\n              <BalloonButton onClick={ _randomCall } classNames=\"text-3xl text-white roboto-font font-medium bg-esperanto hover:bg-esperanto-dark border-esperanto\"\n                side=\"left\" text=\"Random Call\" />\n                \n              <BalloonButton onClick={ openRoomModal } classNames=\"text-3xl text-white roboto-font font-medium bg-dark-tertiary hover:bg-gray border-dark-tertiary\"\n                side=\"right\" text=\"Call Friend\" />\n            </div>\n          </div>\n        </div>\n\n        {/* Illustration */}\n        <div className=\"flex justify-center w-full h-full col-span-1\">\n          <HomeIllustration className=\"h-full\" />\n        </div>\n      </div>\n\n      <div className=\"py-1\">\n        <p className=\"text-lg text-left text-gray-400 roboto-font\">\n          © 2021 videovoko\n        </p>\n      </div>\n\n      <RoomModal id=\"roomModal\" title=\"Call Friend\" />\n    </div>\n  );\n}\n\nexport default Home;","import React from 'react';\n\nimport '../../index.css';\nimport './ChatMessage.css';\n\nfunction ChatMessage({ text, side, classNames }) {\n  return (\n    <div className={ side === 'left' ? 'pr-6' : 'pl-6' }>\n      <div className={ `message ${side} ${classNames || ''}` }>\n        { text }\n      </div>\n    </div>\n  );\n}\n\nexport default ChatMessage;","import React, { useState } from 'react';\nimport Button from '../button/Button';\n\nimport '../../index.css';\nimport './ChatInput.css';\n\nfunction ChatInput({ placeholder, onSend }) {\n  const [message, setMessage] = useState();\n\n  const handleChange = (e) => {\n    setMessage(e.target.value);\n  };\n\n  const handleKeyDown = (e) => {\n    if (e.keyCode === 13 && e.shiftKey === false) {\n      e.preventDefault();\n      handleSubmit();\n    }\n  };\n\n  const handleSubmit = (e) => {\n    if (e) e.preventDefault();\n    \n    if (message.trim()) onSend(message);\n    \n    setMessage('');\n  };\n\n  return (\n    <form onSubmit={handleSubmit} className=\"flex p-3 border-t-2 border-gray\">\n      <textarea\n        className=\"w-full h-10 px-4 py-1 mr-2 overflow-auto border-2 border-solid rounded-lg resize-none border-gray bg-dark-secondary focus:outline-none focus:border-primary\"\n        value={message}\n        onChange={handleChange}\n        onKeyDown={handleKeyDown}\n        placeholder={placeholder}\n      ></textarea>\n\n      <Button type=\"submit\" classNames='transform rotate-90 bg-primary hover:bg-primary-dark'>\n        <svg className=\"w-6 h-6\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n          <path d=\"M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z\" />\n        </svg>\n      </Button>\n    </form>\n  );\n}\n\nexport default ChatInput;","import React, { useContext, useRef, useEffect } from 'react';\n\nimport { AppContext } from '../../contexts/AppContext/AppContext';\n\nimport ChatMessage from '../chat-message/ChatMessage';\nimport ChatInput from '../chat-input/ChatInput';\n\nimport '../../index.css';\nimport './Chat.css'\n\nfunction Chat() {\n  const { Messages, sendMessage } = useContext(AppContext);\n  const messagesAnchor = useRef();\n\n  const handleChatInput = (message) => {\n    sendMessage(message);\n  }\n\n  useEffect(() => {\n    messagesAnchor.current.scrollIntoView({ behavior: \"smooth\" });\n  });\n\n  const messageList = Messages.map((message, index) => {\n    const localUser = message.user === 'me';\n\n    return (\n      <ChatMessage\n        kk={ index }\n        text={ message.text }\n        side={ localUser ? 'right' : 'left' }\n        classNames={ localUser ? 'bg-primary' : 'bg-gray' }\n      />\n    );\n  });\n  \n  return (\n      <div className=\"flex flex-col w-full h-full overflow-hidden\">\n        <div className=\"flex flex-col h-full px-3 pb-1 overflow-x-hidden overflow-y-auto\">\n          <div className=\"h-full\"></div>\n\n          { messageList }\n          \n          <div ref={ messagesAnchor }></div>\n        </div>\n\n        <div className=\"w-full\">\n          <ChatInput\n            onSend={ handleChatInput }\n            placeholder=\"Aa\"\n          />\n        </div>\n      </div>\n  );\n}\n\nexport default Chat;","import React, { useEffect, useRef } from 'react';\nimport { useContext } from 'react';\n\nimport { AppContext } from '../../contexts/AppContext/AppContext';\n\nimport '../../index.css';\nimport './UserVideoBox.css';\n\nfunction UserVideoBox({ user, name, color, onClickVideo }) {\n  const videoRef = useRef();\n\n  const {\n    localStream,\n    guestStream,\n    localMediaStatus,\n    guestMediaStatus\n  } = useContext(AppContext);\n\n  const stream = user === 'local' ? localStream.current : guestStream.current;\n  const mediaStatus = user === 'local' ? localMediaStatus : guestMediaStatus;\n\n  useEffect(() => {\n    let video = videoRef.current;\n    \n    if (video && !video.srcObject && stream) {\n      video.srcObject = stream;\n      video.play();\n    }\n  });\n\n  return (\n    <div className=\"relative flex flex-wrap content-center justify-center border-2 border-solid rounded-lg bg-dark-secondary border-gray medium-size\">\n      { !mediaStatus.video &&\n        <div\n          className={\n            `${color || ''}\n            flex flex-wrap content-center justify-center w-24 h-24 my-auto text-5xl text-white rounded-full`\n          }\n        >\n          {name[0]}\n        </div>\n      }\n      \n      <video\n        id={`${user}-video`}\n        ref={videoRef}\n        onClick={onClickVideo}\n        className={\n          `${user === 'local' ? 'mirrored' : ''}\n          ${!mediaStatus.video ? 'hidden' : ''}\n          w-full h-full bg-black rounded-lg`\n        }\n        muted={user === 'local'}\n      ></video>\n\n      <div className=\"absolute bottom-0 left-0 px-2 py-1 text-white rounded-tr-lg rounded-bl-md bg-dark-tertiary\">\n        {name}\n      </div>\n    </div>\n  );\n}\n\nexport default UserVideoBox;","import React, { useContext } from 'react';\nimport { useHistory } from 'react-router-dom';\n\nimport { AppContext } from '../../contexts/AppContext/AppContext';\n\nimport Button from '../button/Button';\n\nimport '../../index.css';\nimport './CallControls.css';\n\nfunction CallControls() {\n  const {\n    finishCall,\n    localMediaStatus,\n    enableLocalVideo,\n    enableLocalAudio,\n    disableLocalVideo,\n    disableLocalAudio\n  } = useContext(AppContext);\n\n  const history = useHistory();\n  \n\n  const handleVideoButton = () => {\n    if (localMediaStatus.video) disableLocalVideo();\n    else enableLocalVideo();\n  }\n\n  const handleAudioButton = () => {\n    if (localMediaStatus.audio) disableLocalAudio();\n    else enableLocalAudio();\n  }\n\n  const handleFinishCallButton = () => {\n    history.replace('/');\n    finishCall();\n  }\n  \n\n  return (\n    <div className=\"relative flex content-center justify-center space-x-3\">\n      { /* Volume Button */ }\n      <Button classNames=\"invisible h-9 my-auto bg-dark-tertiary hover:bg-gray text-white absolute left-3\">\n        <svg className=\"w-5 h-5\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n          <path fillRule=\"evenodd\" d=\"M9.383 3.076A1 1 0 0110 4v12a1 1 0 01-1.707.707L4.586 13H2a1 1 0 01-1-1V8a1 1 0 011-1h2.586l3.707-3.707a1 1 0 011.09-.217zM14.657 2.929a1 1 0 011.414 0A9.972 9.972 0 0119 10a9.972 9.972 0 01-2.929 7.071 1 1 0 01-1.414-1.414A7.971 7.971 0 0017 10c0-2.21-.894-4.208-2.343-5.657a1 1 0 010-1.414zm-2.829 2.828a1 1 0 011.415 0A5.983 5.983 0 0115 10a5.984 5.984 0 01-1.757 4.243 1 1 0 01-1.415-1.415A3.984 3.984 0 0013 10a3.983 3.983 0 00-1.172-2.828 1 1 0 010-1.415z\" clipRule=\"evenodd\" />\n        </svg>\n\n        <svg className=\"hidden w-5 h-5\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n          <path fillRule=\"evenodd\" d=\"M9.383 3.076A1 1 0 0110 4v12a1 1 0 01-1.707.707L4.586 13H2a1 1 0 01-1-1V8a1 1 0 011-1h2.586l3.707-3.707a1 1 0 011.09-.217zM12.293 7.293a1 1 0 011.414 0L15 8.586l1.293-1.293a1 1 0 111.414 1.414L16.414 10l1.293 1.293a1 1 0 01-1.414 1.414L15 11.414l-1.293 1.293a1 1 0 01-1.414-1.414L13.586 10l-1.293-1.293a1 1 0 010-1.414z\" clipRule=\"evenodd\" />\n        </svg>\n      </Button>\n\n      \n      { /* Audio Button */ }\n      <Button\n        onClick={handleAudioButton}\n        classNames={\n          `${localMediaStatus.audio ? 'text-white' : 'text-gray-500'}\n          h-9 my-auto bg-dark-tertiary hover:bg-gray`\n        }\n      >\n        <svg className=\"w-5 h-5\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n          <path fillRule=\"evenodd\" d=\"M7 4a3 3 0 016 0v4a3 3 0 11-6 0V4zm4 10.93A7.001 7.001 0 0017 8a1 1 0 10-2 0A5 5 0 015 8a1 1 0 00-2 0 7.001 7.001 0 006 6.93V17H6a1 1 0 100 2h8a1 1 0 100-2h-3v-2.07z\" clipRule=\"evenodd\" />\n        </svg>\n      </Button>\n      \n      { /* Finish Call Button */ }\n      <Button\n        onClick={handleFinishCallButton}\n        classNames=\"h-10 bg-danger hover:bg-danger-dark text-white\"\n      >\n        <svg className=\"w-6 h-6 rotate-135\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n          <path d=\"M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z\" />\n        </svg>\n\n        <span className=\"hidden ml-2 text-lg\">Sekva alvoko</span>\n      </Button>\n\n      { /* Video Button */ }\n      <Button\n        onClick={handleVideoButton}\n        classNames={\n          `${localMediaStatus.video ? 'text-white' : 'text-gray-500'}\n          h-9 my-auto bg-dark-tertiary hover:bg-gray`\n        }\n      >\n        <svg class=\"h-5 w-5\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n          <path d=\"M2 6a2 2 0 012-2h6a2 2 0 012 2v8a2 2 0 01-2 2H4a2 2 0 01-2-2V6zM14.553 7.106A1 1 0 0014 8v4a1 1 0 00.553.894l2 1A1 1 0 0018 13V7a1 1 0 00-1.447-.894l-2 1z\" />\n        </svg>\n      </Button>\n\n\n      { /* Expand Button */ }\n      <Button classNames=\"invisible h-9 my-auto bg-dark-tertiary hover:bg-gray text-white absolute right-3\">\n        <svg className=\"w-5 h-5\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4\" />\n        </svg>\n      </Button>\n    </div>\n  );\n}\n\nexport default CallControls;","import React, { useContext } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\n\nimport { getRoomId } from '../../utils/identify'\n\nimport { AppContext } from '../../contexts/AppContext/AppContext';\n\nimport Logo from '../../components/logo/Logo';\nimport Chat from '../../components/chat/Chat';\nimport UserVideoBox from '../../components/user-video-box/UserVideoBox';\nimport CallControls from '../../components/call-controls/CallControls';\n\nfunction CallRoom() {\n  const { joinRoom, guestStream } = useContext(AppContext);\n\n  const history = useHistory();\n\n  console.log(history);\n\n  if (history.length < 3) {\n    joinRoom(getRoomId());\n  }\n  \n  return (\n    <div className=\"grid w-full h-screen grid-cols-8 overflow-hidden bg-dark\">\n      <div className=\"flex flex-col h-full col-span-6 main-panel\">\n        <div className=\"py-3\">\n          <Link to=\"/\">\n            <Logo textColor=\"white\" />\n          </Link>\n        </div>\n\n        <div className=\"flex flex-wrap content-center justify-center w-full h-full space-x-8 video-area\">\n          <UserVideoBox\n            user=\"local\"\n            name=\"Me\"\n            color=\"bg-indigo-800\"\n          />\n\n          { guestStream.current &&\n            <UserVideoBox\n              user=\"remote\"\n              name=\"Guest\"\n              color=\"bg-blue-800\"\n            />\n          }\n        </div>\n\n        <div className=\"py-3\">\n          <CallControls />\n        </div>\n      </div>\n\n      <div className=\"flex flex-col h-full col-span-2 overflow-hidden text-white rounded-l-lg bg-dark-tertiary side-panel\">\n        <div className=\"py-3 text-xl border-b-2 border-solid border-gray\">\n          Room ID:\n          <span className=\"ml-3 font-extrabold text-secondary\">\n           { getRoomId() }\n          </span>\n        </div>\n        <Chat />\n        <span></span>\n      </div>\n    </div>\n  );\n}\n\nexport default CallRoom;","import './App.css';\n\nimport {\n  HashRouter,\n  Switch,\n  Route\n} from \"react-router-dom\";\n\nimport { AppContextProvider } from './contexts/AppContext/AppContext';\n\nimport Home from './pages/Home/Home';\nimport CallRoom from './pages/CallRoom/CallRoom';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <AppContextProvider>\n\n        <HashRouter hashType={ 'noslash' }>\n          <Switch>\n            <Route\n              exact\n              path=\"/:id\"\n              render={({ match }) => {\n                if (!/^[a-z]{4}-[a-z]{4}$/.test(match.params.id)) {\n                  return <Home />;\n                }\n                \n                return <CallRoom />;\n              }}\n            />\n\n            <Route path='/'>\n              <Home />\n            </Route>\n          </Switch>\n        </HashRouter>\n        \n      </AppContextProvider>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nimport './firebase';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}